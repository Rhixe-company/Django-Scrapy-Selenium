"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6228],{68390:function(e,t,a){a.d(t,{z:function(){return l}});var r=a(68247),n=a(80888),s=a(69654),o=a(54110),i=a(58023);let d=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,t)=>{let{className:a,variant:n,size:o,asChild:l=!1,...u}=e,c=l?s.g7:"button";return(0,r.jsx)(c,{className:(0,i.cn)(d({variant:n,size:o,className:a})),ref:t,...u})});l.displayName="Button"},34763:function(e,t,a){a.d(t,{$F:function(){return c},AW:function(){return v},Ph:function(){return m},TG:function(){return h},VD:function(){return x},Xi:function(){return g},cq:function(){return f},h_:function(){return u},kt:function(){return p}});var r=a(68247),n=a(80888),s=a(26228),o=a(30956),i=a(80035),d=a(82127),l=a(58023);let u=s.fC,c=s.xz;s.ZA;let f=s.Uv,m=s.Tr;s.Ee;let p=n.forwardRef((e,t)=>{let{className:a,inset:n,children:i,...d}=e;return(0,r.jsxs)(s.fF,{ref:t,className:(0,l.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",n&&"pl-8",a),...d,children:[i,(0,r.jsx)(o.Z,{className:"ml-auto h-4 w-4"})]})});p.displayName=s.fF.displayName;let h=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.tu,{ref:t,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})});h.displayName=s.tu.displayName;let v=n.forwardRef((e,t)=>{let{className:a,sideOffset:n=4,...o}=e;return(0,r.jsx)(s.Uv,{children:(0,r.jsx)(s.VY,{ref:t,sideOffset:n,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})})});v.displayName=s.VY.displayName;let g=n.forwardRef((e,t)=>{let{className:a,inset:n,...o}=e;return(0,r.jsx)(s.ck,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"pl-8",a),...o})});g.displayName=s.ck.displayName,n.forwardRef((e,t)=>{let{className:a,children:n,checked:o,...d}=e;return(0,r.jsxs)(s.oC,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:o,...d,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(s.wU,{children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})}),n]})}).displayName=s.oC.displayName,n.forwardRef((e,t)=>{let{className:a,children:n,...o}=e;return(0,r.jsxs)(s.Rk,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...o,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(s.wU,{children:(0,r.jsx)(d.Z,{className:"h-2 w-2 fill-current"})})}),n]})}).displayName=s.Rk.displayName,n.forwardRef((e,t)=>{let{className:a,inset:n,...o}=e;return(0,r.jsx)(s.__,{ref:t,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",a),...o})}).displayName=s.__.displayName;let x=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.Z0,{ref:t,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",a),...n})});x.displayName=s.Z0.displayName},59355:function(e,t,a){a.d(t,{UserProvider:function(){return o},a:function(){return i}});var r=a(68247),n=a(80888);let s=(0,n.createContext)(null),o=e=>{let{children:t}=e,[a,o]=(0,n.useState)(null),[i,d]=(0,n.useState)(!0),l=!!a;(0,n.useEffect)(()=>{let e=localStorage.getItem("user");e&&o(JSON.parse(e)),d(!1)},[]),(0,n.useEffect)(()=>{a?localStorage.setItem("user",JSON.stringify(a)):localStorage.removeItem("user")},[a]);let u=(0,n.useMemo)(()=>({user:a,setUser:o,isLoggedIn:l,loading:i,setLoading:d}),[a,l,i]);return(0,r.jsx)(s.Provider,{value:u,children:t})},i=()=>{let e=(0,n.useContext)(s);if(!e)throw Error("useUser must be used within a UserProvider");return e}},94831:function(e,t,a){a.d(t,{a:function(){return l}});var r=a(27619),n=a(11856),s=a(80888),o=a(69226),i=a(40674),d=a(59355);let l=function(){let{middleware:e,redirectIfAuthenticated:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,o.useRouter)(),l=(0,o.useParams)();(0,o.usePathname)();let{setUser:u}=(0,d.a)(),{data:c,error:f,isLoading:m,mutate:p}=(0,r.ZP)("/api/user",()=>n.Z.get("/api/user").then(e=>{var t,a;return localStorage.setItem("user",JSON.stringify(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.data)),u(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.data),e.data}).catch(e=>{if(401===e.response.status)localStorage.removeItem("user");else if(409!==e.response.status)throw e}),{revalidateIfStale:!0,revalidateOnFocus:!1,revalidateOnReconnect:!0,shouldRetryOnError:!1}),h=(0,i.env)("NEXT_PUBLIC_BACKEND_URL"),v=()=>n.Z.get(h+"/sanctum/csrf-cookie/"),g=async e=>{let{setErrors:t,...a}=e;return await v(),t({}),n.Z.post("/api/register",a).then(()=>p()).catch(e=>{throw e.response.data.message})},x=async e=>{let{setErrors:t,setStatus:a,...r}=e;return await v(),t({}),a(null),n.Z.post("/api/login",r).then(()=>p()).catch(e=>{if("The provided credentials are incorrect."==e.response.data.errors.credentials[0])throw"Invalid Credentials";throw e.response.data.message})},w=async e=>{let{setErrors:t,setStatus:a,email:r}=e;return await v(),t({}),a(null),n.Z.post("/api/forgot-password",{email:r}).then(e=>a(e.data.status)).catch(e=>{if(429===e.response.status)throw"Too many attempts. Please try again after some time.";if("passwords.user"==e.response.data.errors.email[0])throw"Email not invalid";throw e.response.data.message})},y=async e=>{let{setErrors:t,setStatus:r,...s}=e;return await v(),t({}),r(null),n.Z.post("/api/reset-password",{token:l.token,...s}).then(e=>a.push("/login?reset="+btoa(e.data.status))).catch(e=>{if("passwords.token"==e.response.data.errors.email[0])throw"token is expired";if(422!==e.response.status)throw e;t(e.response.data.errors)})},b=async()=>{f||(await n.Z.post("/api/logout").then(()=>p()),localStorage.removeItem("user")),window.location.pathname="/"},N=async e=>{let{...t}=e;return await v(),n.Z.post("/api/user/update-password",t).then(()=>p()).catch(e=>{throw e.response.data.message})};return(0,s.useEffect)(()=>{"guest"===e&&t&&(null==c?void 0:c.data.verified)&&a.push(t),"/verify-email"===window.location.pathname&&(null==c?void 0:c.data.verified)&&a.push(null!=t?t:""),"auth"===e&&f&&b()},[c,f]),{user:c,isLoading:m,register:g,login:x,mutate:p,forgotPassword:w,changePassword:N,resetPassword:y,resendEmailVerification:()=>{n.Z.post("/api/send-verification-email").then(e=>e.data.status)},logout:b}}},94325:function(e,t,a){a.d(t,{A:function(){return c},ToastProvider:function(){return f}});var r=a(68247),n=a(80888),s=a(28076),o=a(58023);let i=[],d=[],l=e=>{let t=Math.random().toString(36).substring(2,9),a={...e,id:t};return i.push(a),d.forEach(e=>e([...i])),e.duration!==Number.POSITIVE_INFINITY&&setTimeout(()=>{u(t)},e.duration||5e3),t},u=e=>{let t=i.findIndex(t=>t.id===e);-1!==t&&(i.splice(t,1),d.forEach(e=>e([...i])))};function c(e){return l(e)}function f(e){let{children:t}=e,{toasts:a,dismiss:c}=function(){let[e,t]=(0,n.useState)(i);return(0,n.useEffect)(()=>(d.push(t),()=>{d=d.filter(e=>e!==t)}),[]),{toasts:e,toast:l,dismiss:u}}();return(0,r.jsxs)(r.Fragment,{children:[t,(0,r.jsx)("div",{className:"fixed bottom-0 right-0 z-50 p-4 flex flex-col gap-2 max-w-md w-full",children:a.map(e=>(0,r.jsxs)("div",{className:(0,o.cn)("bg-zinc-900 border border-zinc-800 rounded-lg shadow-lg p-4 flex gap-3 items-start","animate-in slide-in-from-bottom-5 duration-300"),children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"font-medium text-white",children:e.title}),e.description&&(0,r.jsx)("div",{className:"text-sm text-zinc-400 mt-1",children:e.description})]}),(0,r.jsx)("button",{onClick:()=>c(e.id),className:"text-zinc-400 hover:text-white transition-colors",children:(0,r.jsx)(s.Z,{className:"w-4 h-4"})})]},e.id))})]})}},61524:function(e,t,a){a.d(t,{HT:function(){return n},LN:function(){return d},a4:function(){return s},ji:function(){return l},yY:function(){return o}});var r=a(11856);a(30461);let n=async(e,t)=>await r.Z.get(e,{headers:t}),s=async(e,t,a)=>await r.Z.post(e,t,{headers:a}),o=async(e,t)=>await r.Z.delete(e,{headers:t});async function i(e,t,a,n){try{let s=await (0,r.Z)({method:e,url:t,data:a,...n}),{status:o,data:i,headers:d}=s;return{ok:!0,success:[200,201,202,204].includes(o),status:o,body:i,headers:d,original:s}}catch(a){var s,o,i;let e=a.response,t=null!==(s=null==e?void 0:e.status)&&void 0!==s?s:0;return{ok:!1,success:!1,bad:t>=400&&t<500,error:t>=500,badinput:400===t,unauthorized:401===t,forbidden:403===t,notfound:404===t,ratelimited:429===t,status:t,body:null!==(o=null==e?void 0:e.data)&&void 0!==o?o:{},headers:null!==(i=null==e?void 0:e.headers)&&void 0!==i?i:{},original:e}}}let d=(e,t,a)=>i("post",e,t,a),l=(e,t)=>i("delete",e,null,t)},11856:function(e,t,a){var r=a(24359);let n=(0,a(40674).env)("NEXT_PUBLIC_BACKEND_URL"),s=r.Z.create({baseURL:n,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",Accept:"application/json","Cache-Control":"no-cache"},withCredentials:!0,withXSRFToken:!0});t.Z=s,s.interceptors.response.use(e=>e,e=>{if(e.response){if(503==e.response.status)return Promise.reject("under maintenance");if(502==e.response.status)return Promise.reject("Bad Gateway")}return Promise.reject(e)})},58023:function(e,t,a){a.d(t,{cn:function(){return s}});var r=a(30250),n=a(22233);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,r.W)(t))}}}]);