(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8104],{60187:function(e,t,s){Promise.resolve().then(s.bind(s,34824)),Promise.resolve().then(s.bind(s,86536)),Promise.resolve().then(s.bind(s,48797)),Promise.resolve().then(s.bind(s,73321)),Promise.resolve().then(s.bind(s,42223)),Promise.resolve().then(s.bind(s,77510)),Promise.resolve().then(s.bind(s,39555)),Promise.resolve().then(s.bind(s,35842)),Promise.resolve().then(s.bind(s,65076)),Promise.resolve().then(s.bind(s,57621)),Promise.resolve().then(s.bind(s,38731)),Promise.resolve().then(s.t.bind(s,12446,23)),Promise.resolve().then(s.bind(s,58454)),Promise.resolve().then(s.bind(s,76071)),Promise.resolve().then(s.t.bind(s,67200,23)),Promise.resolve().then(s.t.bind(s,57531,23)),Promise.resolve().then(s.bind(s,20214)),Promise.resolve().then(s.bind(s,58233))},70338:function(e,t,s){"use strict";var a=s(68247),l=s(80888);t.Z=e=>{let{endpoint:t,divId:s}=e,[r,i]=(0,l.useState)(null);return(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch(t),s=await e.json();i(s)}catch(e){console.error("Error fetching data:",e)}})()},[t]),(0,l.useEffect)(()=>{if(!r)return;let e=document.getElementById(s);if(!e)return;let t=t=>{Array.from(t.getElementsByTagName("script")).forEach(t=>{let s=document.createElement("script");s.type=t.type||"text/javascript",t.src?s.src=t.src:s.text=t.innerHTML,e.appendChild(s)})},a=Promise.resolve();r.divs&&r.divs.length>0&&r.divs.forEach(s=>{let{value:a,enabled:l}=s;if(l){let s=document.createElement("div");s.innerHTML=a,e.appendChild(s),t(s)}}),r.scripts&&r.scripts.length>0&&r.scripts.forEach(t=>{let{value:s,enabled:l}=t;a=a.then(()=>new Promise((t,a)=>{if(l){let l=document.createElement("script");l.src=s,l.async=!0,l.setAttribute("data-cfasync","false"),l.type="text/javascript",l.onload=()=>{e.appendChild(l),t()},l.onerror=()=>a(Error("Failed to load script: ".concat(s))),document.body.appendChild(l)}}))}),a.then(()=>{console.log("All scripts loaded successfully!");let t=new MutationObserver(()=>{let s=e.querySelectorAll(".container-b686b0074d05dc5d58b2691bbd7f981c__link");s.length>0&&(s.forEach(e=>{e.style.zIndex="9"}),t.disconnect())});t.observe(e,{childList:!0,subtree:!0})}).catch(e=>{console.error("Error loading scripts:",e)})},[r,s]),(0,a.jsx)("div",{id:s})}},34824:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var a=s(68247);s(80888);var l=s(70338),r=s(59355);function i(){let{user:e,loading:t,isLoggedIn:s}=(0,r.a)();return!t&&s&&(null==e?void 0:e.premium.active)?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(l.Z,{endpoint:"/api/ads/chapter-above",divId:"chapter-above-ads"})}},86536:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var a=s(68247);s(80888);var l=s(70338),r=s(59355);function i(){let{user:e,loading:t,isLoggedIn:s}=(0,r.a)();return!t&&s&&(null==e?void 0:e.premium.active)?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(l.Z,{endpoint:"/api/ads/chapter-below",divId:"chapter-below-ads"})}},48797:function(e,t,s){"use strict";var a=s(72588),l=s(80888);t.default=e=>{let{chapter:t,comic:s}=e,{setChapter:r,setComic:i,setLoading:n}=(0,a.W)();return(0,l.useEffect)(()=>{r(t),i(s),n(!1)},[t]),null}},73321:function(e,t,s){"use strict";var a=s(68247),l=s(63544),r=s(80888),i=s(69226);t.default=e=>{let{selectedChapter:t,chapterMapData:s,params:n}=e,[c,o]=(0,r.useState)(!1);(0,i.useRouter)();let d=(0,r.useRef)(null),m=()=>{o(!c)};return(0,r.useEffect)(()=>{let e=e=>{d.current&&!d.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,a.jsxs)("div",{className:"relative flex w-full sm:max-w-60",ref:d,children:[(0,a.jsxs)("button",{className:"px-3 py-2 dropdown-btn",onClick:()=>{m()},children:[(0,a.jsx)("h2",{className:"text-[#9B9B9B] text-[13px] text-start sm:whitespace-nowrap truncate ",children:t}),(0,a.jsx)(l.Z,{className:"text-[#9B9B9B] w-4 ".concat(c?"rotate-180":"")})]}),c?(0,a.jsx)("div",{className:"dropdown-content text-start z-20 space-y-2 py-2 ".concat(c?"visible opacity-100":"invisible opacity-0"),children:s.map((e,t)=>(0,a.jsx)("a",{href:"/series/".concat(n.slug,"/chapter/").concat(e.value),children:(0,a.jsx)("h2",{className:"text-[#9B9B9B] text-[13px] px-3 mt-1 truncate",children:e.label})},t))}):(0,a.jsx)(a.Fragment,{})]})}},42223:function(e,t,s){"use strict";s.d(t,{default:function(){return A}});var a=s(68247),l=s(80888),r=s(91907),i=s(47042),n=s(88051),c=s(69226),o=e=>{let{comic:t,chapter:s}=e,[o,d]=(0,l.useState)(!0),m=(0,c.useRouter)(),x=()=>{d(!1),m.push("/")};return(0,a.jsx)(a.Fragment,{children:o&&(0,a.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-50 rounded-md",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:x}),(0,a.jsx)("div",{className:"relative rounded-lg shadow-lg max-w-md mx-4 ",children:(0,a.jsxs)(r.Zb,{className:"bg-[#212121] border-none rounded-xl",children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row space-x-4 bg-[#1A1A1A] rounded-md",children:[(0,a.jsx)("img",{src:null==t?void 0:t.thumb,className:"h-[150px] rounded-xl min-w-[100px] object-top object-cover",alt:"cover thumbnail"}),(0,a.jsxs)("div",{className:"flex flex-col gap-2gog",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(r.ll,{className:"text-lg md:text-xl max-[360px]:text-base text-left font-bold",children:"Subscribe to Asura+ Premium to read advanced chapters!"}),(0,a.jsx)("button",{onClick:x,className:"flex text-gray-500 hover:text-black right-auto justify-end",children:(0,a.jsx)(i.Z,{})})]}),(0,a.jsxs)(r.SZ,{className:"flex flex-col gap-1 w-[85%] text-left",children:[(0,a.jsx)("span",{className:"text-[#FFFFFF] font-bold",children:null==t?void 0:t.name}),(0,a.jsxs)("span",{className:"text-[#FFFFFF] font-light",children:["Chapter ",null==s?void 0:s.name]})]})]})]}),(0,a.jsx)(r.aY,{className:"space-y-4 mt-2",children:(0,a.jsxs)("ul",{className:"flex flex-col list-none space-y-2 gap-2 max-[360px]:text-sm pt-2",children:[(0,a.jsxs)("li",{className:"flex font-[550] items-center",children:[(0,a.jsx)(n.Z,{}),(0,a.jsx)("span",{className:"ml-2",children:"Ad-Free Experience"})]}),(0,a.jsxs)("li",{className:"flex font-[550] items-center",children:[(0,a.jsx)(n.Z,{}),(0,a.jsx)("span",{className:"ml-2",children:"Early Access to Chapters"})]}),(0,a.jsxs)("li",{className:"flex font-[550] items-center",children:[(0,a.jsx)(n.Z,{}),(0,a.jsx)("span",{className:"ml-2",children:"Unlimited Bookmarks"})]}),(0,a.jsxs)("li",{className:"flex font-[550] items-center",children:[(0,a.jsx)(n.Z,{}),(0,a.jsx)("span",{className:"ml-2",children:"Full Quality Chapter Images"})]}),(0,a.jsxs)("li",{className:"flex font-[550] items-center",children:[(0,a.jsx)(n.Z,{}),(0,a.jsx)("span",{className:"ml-2",children:"Discord Role & Private Channel"})]})]})}),(0,a.jsx)(r.eW,{className:"rounded-md",children:(0,a.jsx)("button",{className:"bg-purple-600 text-white font-semibold py-2 px-4 rounded-md w-full",onClick:()=>m.push("/subscription"),children:"Subscribe Now & Unlock"})})]})})]})})},d=s(59355),m=s(61524),x=s(72588),u=()=>{let{chapter:e,comic:t}=(0,x.W)(),{user:s,isLoggedIn:a}=(0,d.a)();return(0,l.useEffect)(()=>{(async()=>{if((null==e?void 0:e.id)&&a){console.log("Trying to register chapter as visited");try{await (0,m.a4)("/api/user/history",{comic_id:t.id,chapter_id:e.id,user_id:s.id}),console.log("Chapter registered as visited")}catch(e){console.error("Failed to register chapter as visited:",e)}}})()},[t,e,a]),null},h=s(50926),p=s(16723),f=s(11856),g=s(1062),b=s.n(g),j=s(18678),v=s(21943),w=s(15786),y=s(62178),N=s(39899),C=s(28076),S=s(75572),F=()=>{let e=(0,c.useRouter)(),{loading:t,isLoggedIn:s,user:r}=(0,d.a)(),[i,n]=(0,l.useState)(!1),o=Date.now(),[m,x]=(0,l.useState)(5);(0,l.useEffect)(()=>{t||(s||u(),!s||(null==r?void 0:r.premium.active)||u())},[t,s,r]),(0,l.useEffect)(()=>{if(m>0){let e=setTimeout(()=>x(m-1),1e3);return()=>clearTimeout(e)}},[m]);let u=()=>{let e="true"==localStorage.getItem("showPrompt"),t=localStorage.getItem("lastPrompt");t?e?(localStorage.setItem("lastPrompt",o.toString()),n(!0)):(localStorage.setItem("showPrompt","false"),o-Number.parseInt(t)>6e4&&(localStorage.setItem("lastPrompt",o.toString()),localStorage.setItem("showPrompt","true"),n(!0))):(localStorage.setItem("lastPrompt",o.toString()),localStorage.setItem("showPrompt","true"),n(!0))},h=()=>{localStorage.setItem("lastPrompt",Date.now().toString()),localStorage.setItem("showPrompt","false"),n(!1)},p=[{icon:w.Z,title:"Ad-free reading experience",description:"Pure, uninterrupted reading pleasure"},{icon:y.Z,title:"Early access to new chapters",description:"Read new chapters before everyone else"},{icon:N.Z,title:"Animated profile picture & Badge",description:"Stand out with exclusive profile features"}];return i&&(0,a.jsxs)("div",{className:"jsx-24ab88eb6d30d7ed min-h-min my-auto",children:[(0,a.jsx)(j.M,{children:(0,a.jsx)(v.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,a.jsx)(v.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:20},className:"relative w-full max-w-md max-h-[90vh] overflow-y-auto rounded-xl shadow-2xl",children:(0,a.jsxs)("div",{className:"jsx-24ab88eb6d30d7ed relative bg-gradient-to-b from-[#231258] to-[#1b0e45] rounded-xl p-6 overflow-hidden",children:[(0,a.jsx)("button",{onClick:h,disabled:m>0,className:"jsx-24ab88eb6d30d7ed absolute top-4 right-4 text-gray-400 hover:text-white z-10",children:(0,a.jsx)(C.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"jsx-24ab88eb6d30d7ed flex items-center mb-3",children:[(0,a.jsx)(S.Z,{className:"w-5 h-5 mr-2 text-[#FFD700]"}),(0,a.jsx)("span",{className:"jsx-24ab88eb6d30d7ed text-[#FFD700] text-sm font-medium uppercase tracking-wider",children:"Premium Offer"})]}),(0,a.jsxs)("h2",{className:"jsx-24ab88eb6d30d7ed text-3xl font-bold mb-1",children:[(0,a.jsx)("span",{className:"jsx-24ab88eb6d30d7ed text-[#FFD700]",children:"ASURA+"}),(0,a.jsx)("span",{className:"jsx-24ab88eb6d30d7ed text-white",children:" Premium"})]}),(0,a.jsxs)("div",{className:"jsx-24ab88eb6d30d7ed mb-8",children:[(0,a.jsxs)("div",{className:"jsx-24ab88eb6d30d7ed flex items-baseline",children:[(0,a.jsx)("span",{className:"jsx-24ab88eb6d30d7ed text-[#FFD700] text-4xl font-bold",children:"$19.99"}),(0,a.jsx)("span",{className:"jsx-24ab88eb6d30d7ed text-gray-400 ml-2 text-lg",children:"/YEAR"})]}),(0,a.jsx)("div",{className:"jsx-24ab88eb6d30d7ed mt-3 bg-[#352273] rounded-lg p-3 border border-[#FFD700]/30",children:(0,a.jsxs)("div",{className:"jsx-24ab88eb6d30d7ed flex items-center",children:[(0,a.jsx)("div",{className:"jsx-24ab88eb6d30d7ed w-6 h-6 rounded-full bg-[#FFD700] flex items-center justify-center mr-2 shadow-glow",children:(0,a.jsx)("span",{className:"jsx-24ab88eb6d30d7ed text-[#231258] font-bold text-xs",children:"✓"})}),(0,a.jsxs)("span",{className:"jsx-24ab88eb6d30d7ed text-gray-200",children:["Just ",(0,a.jsx)("span",{className:"jsx-24ab88eb6d30d7ed text-[#FFD700] font-bold text-xl",children:"$1.67"})," ",(0,a.jsx)("span",{className:"jsx-24ab88eb6d30d7ed text-gray-300",children:"per month"})]})]})})]}),(0,a.jsxs)("div",{className:"jsx-24ab88eb6d30d7ed mb-8",children:[(0,a.jsxs)("h3",{className:"jsx-24ab88eb6d30d7ed flex items-center text-white mb-4",children:[(0,a.jsx)(N.Z,{className:"w-5 h-5 mr-2 text-[#FFD700]"}),(0,a.jsx)("span",{className:"jsx-24ab88eb6d30d7ed font-semibold text-lg",children:"Premium Benefits"})]}),(0,a.jsx)("div",{className:"jsx-24ab88eb6d30d7ed space-y-4",children:p.map((e,t)=>(0,a.jsxs)(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"flex items-start",children:[(0,a.jsx)("div",{className:"jsx-24ab88eb6d30d7ed bg-[#352273] p-3 rounded-lg mr-3",children:(0,a.jsx)(e.icon,{className:"w-5 h-5 text-[#FFD700]"})}),(0,a.jsxs)("div",{className:"jsx-24ab88eb6d30d7ed",children:[(0,a.jsx)("div",{className:"jsx-24ab88eb6d30d7ed text-white font-medium",children:e.title}),(0,a.jsx)("div",{className:"jsx-24ab88eb6d30d7ed text-gray-400 text-sm",children:e.description})]})]},t))})]}),(0,a.jsxs)(v.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-[#FFD700] text-[#231258] font-bold py-3 px-4 rounded-lg text-center mb-4 flex items-center justify-center",onClick:()=>{e.push("/subscription")},children:[(0,a.jsx)(S.Z,{className:"w-5 h-5 mr-2"}),"Subscribe Now!",(0,a.jsx)("span",{className:"jsx-24ab88eb6d30d7ed ml-1",children:"→"})]}),(0,a.jsx)("div",{className:"jsx-24ab88eb6d30d7ed text-center text-gray-400 text-sm",children:m>0?"Skip Ad in ".concat(m,"s"):(0,a.jsx)("button",{onClick:h,className:"jsx-24ab88eb6d30d7ed text-gray-400 hover:text-white transition-colors",children:"Skip Ad"})})]})})})}),(0,a.jsx)(b(),{id:"24ab88eb6d30d7ed",children:".overflow-y-auto::-webkit-scrollbar{width:6px}.overflow-y-auto::-webkit-scrollbar-track{background:rgba(0,0,0,.1)}.overflow-y-auto::-webkit-scrollbar-thumb{background:rgba(255,255,255,.2);-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.shadow-glow{-webkit-box-shadow:0 0 8px 2px rgba(255,215,0,.3);-moz-box-shadow:0 0 8px 2px rgba(255,215,0,.3);box-shadow:0 0 8px 2px rgba(255,215,0,.3)}"})]})},E=s(94325),A=e=>{let{initialChapter:t,initialComic:s}=e,{chapter:r,quality:i,setQuality:n,loading:g,comic:b}=(0,x.W)(),[j,v]=(0,l.useState)(),[w,y]=(0,l.useState)([]),{user:N,loading:C,isLoggedIn:S}=(0,d.a)(),[A,k]=(0,l.useState)(!1),[P,B]=(0,l.useState)(!0),Z=(0,c.useRouter)(),D=e=>{B(e),Z.push("/")},I=async function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{let s=await (0,m.a4)("/api/chapter/unlock",{chapterId:e});s.data.success?(s.data.data.unlock_token&&await _(s.data.data),console.log("early-access chapter unlocked"),t&&(0,E.A)({title:"Chapter unlocked"}),v(s.data.data.pages)):t&&(0,E.A)({title:"Failed to unlock early-access chapter"})}catch(e){console.error("Error chapter",e)}},_=async e=>{let t=e.unlock_token,s=e.id,a=e.pages,l=a.map(e=>({order:e.order,src:"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22800%22%20height%3D%2210000%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%2010000%22%20preserveAspectRatio%3D%22none%22%3E%0A%20%20%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%20%20%20%20%20%20%20%20%20%20%23holder%20text%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%20%23000000%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20sans-serif%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%200px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20100%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%3C%2Fstyle%3E%0A%20%20%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%20%20%3Cg%20id%3D%22holder%22%3E%0A%20%20%20%20%20%20%20%20%3Crect%20width%3D%22100%25%22%20height%3D%22100%25%22%20fill%3D%22%23cecece%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3Cg%3E%0A%20%20%20%20%20%20%20%20%20%20%3Ctext%20text-anchor%3D%22middle%22%20x%3D%2250%25%22%20y%3D%2250%25%22%20dy%3D%22.3em%22%3E800%20x%2010000%3C%2Ftext%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3C%2Fsvg%3E"}));y([...l]);for(let e=0;e<a.length;e+=2){let r=a.slice(e,e+2);try{(await Promise.all(r.map(async e=>{let a=0;for(;a<3;)try{let a=await R(e.id,s,t,"max-quality");return{order:e.order,src:a}}catch(t){a++,console.error("Error fetching page ".concat(e.id,". Retrying ").concat(a," of ").concat(3,"...")),a>=3&&console.error("Failed to fetch page ".concat(e.id," after ").concat(3," retries.")),await new Promise(e=>setTimeout(e,1e3))}}))).filter(e=>null!==e).forEach(e=>{let t=l.findIndex(t=>t.order===e.order);-1!==t&&(l[t]=e)}),y([...l]),l.sort((e,t)=>e.order-t.order),await new Promise(e=>setTimeout(e,1e3))}catch(e){console.error("Error during batch processing:",e)}}},R=async(e,t,s,a)=>(await f.Z.post("/api/media",{media_id:e,chapter_id:t,token:s,quality:a})).data.data,H=async e=>{try{let t=await (0,m.a4)("/api/chapter/max-quality",{chapterId:e});t.data.success?t.data.data.unlock_token?await _(t.data.data):(v(t.data.data.pages),console.log("chapter set to max-quality")):(0,E.A)({title:"Failed to set chapter to max-quality"})}catch(e){console.error("Error chapter",e)}};return((0,l.useEffect)(()=>{if(!g&&!C){if((null==N?void 0:N.premium.plan)==="ASURA+ Premium"||(null==N?void 0:N.premium.plan)==="staff"){let e=localStorage.getItem("imageQuality"),s=e?JSON.parse(e):null;if(null==r?void 0:r.is_early_access){if(console.log("trying to unlock chapter"),k(!0),s&&s.HD&&(null==N?void 0:N.premium.active)){n("max-quality"),H(null==r?void 0:r.id).then(e=>{});return}I(null==r?void 0:r.id,!1).then(e=>{});return}if(s&&s.HD&&(null==N?void 0:N.premium.active)&&n("max-quality"),"max-quality"==i){H(null==r?void 0:r.id).then(e=>{});return}"default"==i&&v(null==t?void 0:t.pages)}if(!(null==r?void 0:r.is_early_access)&&(null==N?void 0:N.premium.plan)==="ASURA+ Basic"){let e=localStorage.getItem("imageQuality"),s=e?JSON.parse(e):null;if(s&&s.HD&&(null==N?void 0:N.premium.active)){n("max-quality"),H(null==r?void 0:r.id);return}v(null==t?void 0:t.pages);return}(null==r?void 0:r.is_early_access)||(S&&(null==N?void 0:N.premium.active)!=!0&&v(null==t?void 0:t.pages),S||v(null==t?void 0:t.pages))}},[i,C,S,g]),!C&&S&&(null==N?void 0:N.premium.active)&&(null==r?void 0:r.is_early_access)&&A)?(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{}),w.map((e,t)=>(0,a.jsx)("div",{className:"w-full mx-auto center",children:(0,a.jsx)("img",{src:e.src,className:"object-cover mx-auto",alt:"chapter page ".concat(e.order),decoding:"async",fetchPriority:"high",loading:"lazy"})},e.order)),(0,a.jsx)("img",{src:"/images/EndDesign.webp",className:"object-cover mx-auto",decoding:"async",fetchPriority:"low",loading:"lazy"})]}):!g&&S&&!(null==N?void 0:N.premium.active)&&(null==r?void 0:r.is_early_access)||!g&&S&&(null==N?void 0:N.premium.active)&&(null==N?void 0:N.premium.plan)==="ASURA+ Basic"&&(null==r?void 0:r.is_early_access)?(0,a.jsxs)("div",{className:"pt-6",children:[(0,a.jsx)(o,{comic:b,chapter:r}),(0,a.jsx)("p",{children:"this is a early access chapter. please make sure to be logged in as a ASURA+ Premium user"})]}):g||S||N||null==r||!r.is_early_access?g||C||(null==r?void 0:r.is_early_access)?void 0:(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{}),(0,a.jsx)(F,{}),null==j?void 0:j.sort((e,t)=>e.order-t.order).map((e,t)=>(0,a.jsx)("div",{className:"w-full mx-auto center",children:(0,a.jsx)("img",{src:e.url,className:"object-cover mx-auto",alt:"chapter page ".concat(e.order),decoding:"async",fetchPriority:"high",loading:t<3?"eager":"lazy"})},e.order)),(0,a.jsx)("img",{src:"/images/EndDesign.webp",className:"object-cover mx-auto",decoding:"async",fetchPriority:"low",loading:"lazy"})]}):(0,a.jsx)("div",{className:"pt-6",children:(0,a.jsx)(p.Vq,{open:P,onOpenChange:D,children:(0,a.jsx)(p.cZ,{className:"items-center w-full px-0 py-5 sm:py-5 justify-center border-0 bg-[#222222] rounded-3xl",children:(0,a.jsx)(h.Z,{isLoginModal:!0,dialogHandler:D,loginText:"Login"})})})})}},77510:function(e,t,s){"use strict";s.d(t,{default:function(){return i}});var a=s(68247),l=s(68390),r=()=>(0,a.jsxs)("svg",{width:"16",height:"17",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("g",{clipPath:"url(#clip0_305_437)",children:(0,a.jsx)("path",{d:"M20.484 8.51074L23.495 4.51474C24.069 3.75274 24.161 2.74874 23.735 1.89574C23.309 1.04174 22.452 0.510742 21.498 0.510742H4.5C2.019 0.510742 0 2.52974 0 5.01074V23.0107C0.034 24.9827 2.967 24.9817 3 23.0107V16.5107H21.498C22.452 16.5107 23.31 15.9807 23.735 15.1257C24.161 14.2717 24.069 13.2687 23.495 12.5067L20.484 8.51074ZM3 13.5107V5.01074C3 4.18374 3.673 3.51074 4.5 3.51074H20.495L17.408 7.60874C17.006 8.14274 17.006 8.87974 17.408 9.41374L20.495 13.5117H3V13.5107Z",fill:"#9B9B9B"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_305_437",children:(0,a.jsx)("rect",{width:"24",height:"24",fill:"white",transform:"translate(0 0.510742)"})})})]});function i(){return(0,a.jsxs)(l.z,{variant:"secondary",className:"h-[36px] rounded-[62px] bg-[#222222] text-[#9B9B9B] text-[13px] font-normal ",children:[(0,a.jsx)(r,{}),(0,a.jsx)("a",{href:"https://asura.youtrack.cloud/form/81088262-513a-4b4f-977b-e69c0cf6b2e2",target:"_blank",className:"ml-2",children:"Report"})]})}},39555:function(e,t,s){"use strict";s.d(t,{default:function(){return c}});var a=s(68247),l=s(59355),r=s(16723),i=s(80888),n=s(50926);function c(){let{isLoggedIn:e}=(0,l.a)(),[t,s]=(0,i.useState)(!1),c=e=>{s(e)};return(0,i.useEffect)(()=>{t&&localStorage.removeItem("timeReached")},[t]),(0,i.useEffect)(()=>{let t="true"==localStorage.getItem("timeReached");!e&&t&&(c(!0),localStorage.removeItem("pageTimestamp"),localStorage.removeItem("lastShown"));let s=setInterval(()=>{if(e||t)localStorage.removeItem("pageTimestamp");else{let e=localStorage.getItem("pageTimestamp"),t=localStorage.getItem("lastShown"),s=Date.now();if(e){if(t&&s-parseInt(t)<864e5)return;s-parseInt(e)>9e5&&(localStorage.setItem("timeReached","true"),localStorage.setItem("lastShown",s.toString()),localStorage.removeItem("pageTimestamp"),c(!0))}else localStorage.setItem("pageTimestamp",s.toString())}},1e3);return()=>clearInterval(s)},[e]),(0,a.jsx)("div",{className:"w-full relative sm:max-w-60",children:(0,a.jsx)(r.Vq,{open:t,onOpenChange:c,children:(0,a.jsx)(r.cZ,{className:"items-center w-full px-0 py-5 sm:py-5 justify-center border-0 bg-[#222222] rounded-3xl ",children:(0,a.jsx)(n.Z,{isLoginModal:!0,dialogHandler:c,loginText:"Login to continue reading"})})})})}},35842:function(e,t,s){"use strict";s.d(t,{default:function(){return b}});var a=s(68247);let l=()=>(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("rect",{x:"2",y:"5",width:"15",height:"11",fill:"white"}),(0,a.jsx)("path",{d:"M15 9.1665V10.8332C15 11.7523 14.2525 12.4998 13.3333 12.4998H12.5V7.49984H13.3333C14.2525 7.49984 15 8.24734 15 9.1665ZM20 5.83317V14.1665C20 16.464 18.1308 18.3332 15.8333 18.3332H4.16667C1.86917 18.3332 0 16.464 0 14.1665V5.83317C0 3.53567 1.86917 1.6665 4.16667 1.6665H15.8333C18.1308 1.6665 20 3.53567 20 5.83317ZM9.16667 6.6665C9.16667 6.2065 8.79333 5.83317 8.33333 5.83317C7.87333 5.83317 7.5 6.2065 7.5 6.6665V9.1665H5V6.6665C5 6.2065 4.62667 5.83317 4.16667 5.83317C3.70667 5.83317 3.33333 6.2065 3.33333 6.6665V13.3332C3.33333 13.7932 3.70667 14.1665 4.16667 14.1665C4.62667 14.1665 5 13.7932 5 13.3332V10.8332H7.5V13.3332C7.5 13.7932 7.87333 14.1665 8.33333 14.1665C8.79333 14.1665 9.16667 13.7932 9.16667 13.3332V6.6665ZM16.6667 9.1665C16.6667 7.32817 15.1717 5.83317 13.3333 5.83317H12.5C11.5808 5.83317 10.8333 6.58067 10.8333 7.49984V12.4998C10.8333 13.419 11.5808 14.1665 12.5 14.1665H13.3333C15.1717 14.1665 16.6667 12.6715 16.6667 10.8332V9.1665Z",fill:"#913FE2"})]});var r=s(63544),i=s(80888),n=s(16723),c=s(69226),o=s(50926),d=s(59355),m=s(72588),x=s(91907),u=s(47042),h=s(88051),p=e=>{let{comic:t,chapter:s,closeModal:l}=e,r=(0,c.useRouter)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-50 rounded-md",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:l}),(0,a.jsx)("div",{className:"relative rounded-lg shadow-lg max-w-md mx-4 ",children:(0,a.jsxs)(x.Zb,{className:"bg-[#212121] border-none rounded-xl",children:[(0,a.jsxs)(x.Ol,{className:"flex flex-row space-x-4 bg-[#1A1A1A] rounded-md",children:[(0,a.jsx)("img",{src:null==t?void 0:t.thumb,className:"h-[150px] rounded-xl min-w-[100px] object-top object-cover",alt:"cover thumbnail"}),(0,a.jsxs)("div",{className:"flex flex-col gap-2gog",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(x.ll,{className:"text-lg md:text-xl max-[360px]:text-base text-left font-bold sm:mr-2",children:"Subscribe to read Max Quality chapters"}),(0,a.jsx)("button",{onClick:l,className:"flex text-gray-500 hover:text-black right-auto justify-end",children:(0,a.jsx)(u.Z,{})})]}),(0,a.jsxs)(x.SZ,{className:"flex flex-col gap-1 w-[85%] text-left mt-1",children:[(0,a.jsx)("span",{className:"text-[#FFFFFF] font-bold",children:null==t?void 0:t.name}),(0,a.jsxs)("span",{className:"text-[#FFFFFF] font-light",children:["Chapter ",null==s?void 0:s.name]})]})]})]}),(0,a.jsx)(x.aY,{className:"space-y-4 mt-2",children:(0,a.jsxs)("ul",{className:"flex flex-col list-none space-y-2 gap-2 max-[360px]:text-sm pt-2",children:[(0,a.jsxs)("li",{className:"flex font-[550] items-center",children:[(0,a.jsx)(h.Z,{}),(0,a.jsx)("span",{className:"ml-2",children:"Ad-Free Experience"})]}),(0,a.jsxs)("li",{className:"flex font-[550] items-center",children:[(0,a.jsx)(h.Z,{}),(0,a.jsx)("span",{className:"ml-2",children:"Be First to Read"})]}),(0,a.jsxs)("li",{className:"flex font-[550] items-center",children:[(0,a.jsx)(h.Z,{}),(0,a.jsx)("span",{className:"ml-2",children:"Unmatched Image Quality"})]}),(0,a.jsxs)("li",{className:"flex font-[550] items-center",children:[(0,a.jsx)(h.Z,{}),(0,a.jsx)("span",{className:"ml-2",children:"VIP Comment Icon"})]}),(0,a.jsxs)("li",{className:"flex font-[550] items-center",children:[(0,a.jsx)(h.Z,{}),(0,a.jsx)("span",{className:"ml-2",children:"Priority Comment Placement"})]})]})}),(0,a.jsx)(x.eW,{className:"rounded-md",children:(0,a.jsx)("button",{className:"bg-purple-600 text-white font-semibold py-2 px-4 rounded-md w-full",onClick:()=>r.push("/subscription"),children:"Subscribe Now & Unlock"})})]})})]})})},f=s(94325);let g=[{value:"default",label:"Default Quality"},{value:"max-quality",label:"Max Quality",icon:"HD"}];var b=e=>{let{comic:t,chapter:s}=e,[x,u]=(0,i.useState)(!1),[h,b]=(0,i.useState)("Default Quality"),j=(0,i.useRef)(null);(0,c.useRouter)();let{setQuality:v}=(0,m.W)(),{user:w,loading:y,isLoggedIn:N}=(0,d.a)(),[C,S]=(0,i.useState)(!1),[F,E]=(0,i.useState)(!1),A=e=>{S(e)},k=e=>{E(e)};(0,i.useEffect)(()=>{let e=e=>{j.current&&!j.current.contains(e.target)&&u(!1)};if(document.addEventListener("mousedown",e),!y&&w){let e=localStorage.getItem("imageQuality"),t=e?JSON.parse(e):null;t&&t.HD&&(null==w?void 0:w.premium.active)&&b("Max Quality")}return()=>{document.removeEventListener("mousedown",e)}},[y,w]);let P=e=>{b(e.label),u(!1),v(e.value),w||"Max Quality"!==e.label?!w||(null==w?void 0:w.premium.active)?(null==w?void 0:w.premium.active)&&"Max Quality"===e.label?(localStorage.setItem("imageQuality",JSON.stringify({HD:!0})),window.location.reload()):(null==w?void 0:w.premium.active)&&"Default Quality"===e.label&&(localStorage.setItem("imageQuality",JSON.stringify({HD:!1})),window.location.reload()):(k(!0),b("Default Quality")):A(!0)};return y?null:!y&&s.is_early_access?(0,a.jsxs)("button",{className:"p-3 dropdown-btn flex justify-between items-center w-full",onClick:()=>{(0,f.A)({title:"Can't switch to Default Quality on Early-Access Chapters"})},children:[(0,a.jsx)("span",{className:"text-[#9B9B9B] text-[13px]",children:"Max Quality"}),(0,a.jsx)(r.Z,{className:"text-[#9B9B9B] w-4 ".concat(x?"rotate-180":"")})]}):!y&&(0,a.jsxs)("div",{className:"w-full relative sm:max-w-60",ref:j,children:[(0,a.jsx)(n.Vq,{open:C,onOpenChange:A,children:(0,a.jsx)(n.cZ,{className:"items-center w-full px-0 py-5 sm:py-5 justify-center border-0 bg-[#222222] rounded-3xl",children:(0,a.jsx)(o.Z,{isLoginModal:!0,dialogHandler:A,loginText:"Login"})})}),F&&(0,a.jsx)(p,{comic:t,chapter:s,closeModal:()=>E(!1)}),(0,a.jsxs)("button",{className:"p-3 dropdown-btn flex justify-between items-center w-full",onClick:()=>{u(!x)},children:[(0,a.jsx)("span",{className:"text-[#9B9B9B] text-[13px]",children:h}),(0,a.jsx)(r.Z,{className:"text-[#9B9B9B] w-4 ".concat(x?"rotate-180":"")})]}),x&&(0,a.jsx)("div",{className:"dropdown-content text-start z-20 space-y-2 py-2 bg-[#333] shadow-md rounded-md",children:g.map((e,t)=>(0,a.jsx)("button",{className:"flex justify-between items-center w-full px-3 py-2  text-[15px] ".concat("Max Quality"==e.label?"text-white":"text-[#9B9B9B]"),onClick:()=>P(e),children:(0,a.jsxs)("div",{className:"relative w-auto",children:[(0,a.jsx)("span",{children:e.label}),e.icon&&(0,a.jsx)("span",{className:"absolute top-0 right-0 -mt-1 -mr-5",children:(0,a.jsx)(l,{})})]})},t))})]})}},91907:function(e,t,s){"use strict";s.d(t,{Ol:function(){return n},SZ:function(){return o},Zb:function(){return i},aY:function(){return d},eW:function(){return m},ll:function(){return c}});var a=s(68247),l=s(80888),r=s(58023);let i=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...l})});i.displayName="Card";let n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...l})});n.displayName="CardHeader";let c=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("h3",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",s),...l})});c.displayName="CardTitle";let o=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("p",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",s),...l})});o.displayName="CardDescription";let d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",s),...l})});d.displayName="CardContent";let m=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",s),...l})});m.displayName="CardFooter"},72588:function(e,t,s){"use strict";s.d(t,{ChapterContextProvider:function(){return i},W:function(){return n}});var a=s(68247),l=s(80888);let r=(0,l.createContext)(null),i=e=>{let{children:t}=e,[s,i]=(0,l.useState)(null),[n,c]=(0,l.useState)(null),[o,d]=(0,l.useState)(!0),[m,x]=(0,l.useState)("default"),u=(0,l.useMemo)(()=>({chapter:s,setChapter:i,comic:n,setComic:c,quality:m,setQuality:x,loading:o,setLoading:d}),[s,n,m,o]);return(0,a.jsx)(r.Provider,{value:u,children:t})},n=()=>{let e=(0,l.useContext)(r);if(!e)throw Error("useChapterContext must be used within a ChapterContextProvider");return e}},47042:function(e,t,s){"use strict";var a=s(68247);t.Z=()=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"3",stroke:"#ffffff",className:"size-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})},88051:function(e,t,s){"use strict";var a=s(68247);t.Z=()=>(0,a.jsxs)("svg",{width:"25",height:"25",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M17.7598 39.6114C26.064 39.6114 32.7959 32.8794 32.7959 24.5752C32.7959 16.271 26.064 9.53906 17.7598 9.53906C9.45555 9.53906 2.72363 16.271 2.72363 24.5752C2.72363 32.8794 9.45555 39.6114 17.7598 39.6114Z",fill:"#913FE2"}),(0,a.jsx)("path",{d:"M17.9297 36.1968L17.739 35.8719C14.8258 30.9084 7.0844 20.375 7.0062 20.2692L6.89453 20.1175L9.53199 17.511L17.8807 23.3407C23.1374 16.5195 28.0414 11.8344 31.2403 9.09844C34.7396 6.10561 37.0174 4.7278 37.0404 4.7146L37.0922 4.68359H41.5661L41.1387 5.06418C30.1479 14.8537 18.235 35.6603 18.1164 35.8694L17.9297 36.1968Z",fill:"white"})]})}},function(e){e.O(0,[3593,4682,759,2787,3397,7200,6546,6403,1577,5936,7190,7151,768,3294,4017,1260,4751,5576,4852,6228,926,3173,6501,6539,1744],function(){return e(e.s=60187)}),_N_E=e.O()}]);