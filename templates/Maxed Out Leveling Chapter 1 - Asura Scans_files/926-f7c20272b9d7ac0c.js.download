(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[926],{50926:function(e,t,r){"use strict";r.d(t,{Z:function(){return R}});var s=r(68247),a=r(73294),n=r(94831),l=r(80888),o=r(52842),i=r(30715),d=r(54016),c=r(3643),u=r(69698),m=r(48981),f=r(68390),x=r(16723),h=r(69226),p=r(94325);let g=d.z.object({email:d.z.string().min(1,"Email is required").email("Enter a valid email address")});function b(e){let{open:t,setOpen:r}=e,a=(0,c.cI)({resolver:(0,u.F)(g),defaultValues:{email:""}}),i=(0,h.useRouter)(),[d,b]=(0,l.useState)(!1),[j,N]=(0,l.useState)({}),[w,y]=(0,l.useState)(null),{forgotPassword:v}=(0,n.a)({middleware:"guest",redirectIfAuthenticated:"/"}),k=async e=>{try{b(!0),await v({...e,setErrors:N,setStatus:y}),(0,p.A)({title:"Send link successful!"}),i.push("/login")}catch(e){(0,p.A)({title:"Error: ".concat(e)})}finally{b(!1)}};return(0,s.jsx)(x.Vq,{open:t,onOpenChange:r,children:(0,s.jsxs)(x.cZ,{className:"sm:max-w-sm bg-[#222] border-none",children:[(0,s.jsxs)(x.fK,{children:[(0,s.jsx)(x.$N,{children:"Forgot Password"}),(0,s.jsx)(x.Be,{children:"Weâ€˜ll send you a link to reset your password."})]}),(0,s.jsx)(m.l0,{...a,children:(0,s.jsxs)("form",{onSubmit:a.handleSubmit(k),children:[(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)("div",{className:"grid flex-1 gap-2",children:(0,s.jsx)(m.Wi,{control:a.control,name:"email",render:e=>{let{field:t}=e;return(0,s.jsxs)(m.xJ,{children:[(0,s.jsx)(m.lX,{className:"block text-xs font-medium leading-6",children:"Email address"}),(0,s.jsx)(m.NI,{children:(0,s.jsx)(o.I,{disabled:d,placeholder:"Email address",...t,className:"block w-full rounded-md border-0 py-2 bg-secondarybackground text-white px-2 outline-none"})}),(0,s.jsx)(m.zG,{})]})}})})}),(0,s.jsx)(f.z,{type:"submit",disabled:d,className:"flex w-full justify-center rounded-md mt-3 leading-6 bg-gradient-to-r px-8 py-3 text-md font-semibold text-gray-100 shadow-md bg-themecolor hover:bg-[#8724ea]",children:"Send Link"})]})})]})})}var j=r(8201),N=r(12105),w=r(9484),y=r(28813),v=r(62076),k=r(40674),z=r(61524),C=r(97768),I=r.n(C);let F=d.z.object({email:d.z.string().min(1,"Email is required").email("Enter a valid email address"),password:d.z.string().min(8,"Incorrect Password"),remember:d.z.boolean()}),S=(0,k.env)("NEXT_PUBLIC_BACKEND_URL");var R=e=>{let{isLoginModal:t,dialogHandler:r,loginText:d}=e,f=(0,h.useRouter)(),{login:x,user:g}=(0,n.a)({middleware:"guest",redirectIfAuthenticated:"/"}),[k,C]=(0,l.useState)({}),[R,E]=(0,l.useState)(null),[_,A]=(0,l.useState)(!1),[G,V]=(0,l.useState)(!1),[Z,L]=(0,l.useState)(!1),P=(0,c.cI)({resolver:(0,u.F)(F),defaultValues:{email:"",password:"",remember:!1}}),{formState:{errors:B}}=P,D=async e=>{try{V(!0),await x({...e,setErrors:C,setStatus:E}),await (0,z.HT)("/api/user"),(0,p.A)({title:"Login successful!"}),t&&r?r(!1):f.push("/")}catch(e){if("under maintenance"==e)return f.replace("/error/".concat(503));if("Bad Gateway"==e)return f.replace("/error/".concat(502));(0,p.A)({title:"Error: ".concat(e)})}finally{V(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex justify-center h-full md:mt-7",children:(0,s.jsxs)("div",{className:"bg-[#222222] p-8 rounded-lg shadow-md w-full  sm:max-w-[500px] ".concat(t?I().loginModal:""),children:[(0,s.jsx)("div",{className:"flex justify-center mb-1",children:(0,s.jsx)(j.default,{src:"/images/logo.webp",alt:"Asura Scans",width:96,height:96})}),t?(0,s.jsx)("h2",{className:"text-2xl md:text-xl font-bold text-center text-white mb-6",children:d||"Login to continue reading"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-center text-white mb-1",children:"Asura Scans"}),(0,s.jsx)("p",{className:"text-center mb-6 text-sm",children:"Login to your account"})]}),(0,s.jsx)(m.l0,{...P,children:(0,s.jsxs)("form",{onSubmit:P.handleSubmit(D),children:[(0,s.jsxs)("div",{className:"mb-4 relative",children:[(0,s.jsx)(N.Z,{className:"size-4 absolute left-3 top-6 transform -translate-y-1/2 mr-10"}),(0,s.jsx)(m.Wi,{control:P.control,name:"email",render:e=>{let{field:t}=e;return(0,s.jsxs)(m.xJ,{children:[(0,s.jsx)(m.NI,{children:(0,s.jsx)(o.I,{disabled:G,placeholder:"Enter your Email",...t,className:"w-full p-6 pl-10 bg-secondarybackground text-white placeholder-gray-400 rounded-xl\n                          focus:outline-none focus:ring-2 focus:ring-white ".concat(B.email?"border-red-500 focus:ring-red-500":"")})}),(0,s.jsx)(m.zG,{})]})}})]}),(0,s.jsxs)("div",{className:"mb-4 relative",children:[(0,s.jsx)(w.Z,{className:"absolute size-4 left-3 top-6 transform -translate-y-1/2 mr-10"}),(0,s.jsx)(m.Wi,{control:P.control,name:"password",render:e=>{let{field:t}=e;return(0,s.jsxs)(m.xJ,{children:[(0,s.jsx)(m.NI,{children:(0,s.jsx)(o.I,{disabled:G,placeholder:"Password",...t,type:Z?"text":"password",className:"w-full p-6 pl-10 bg-secondarybackground text-white placeholder-gray-400 rounded-xl\n                          focus:outline-none focus:ring-1 focus:ring-white ".concat(B.password?"border-red-500 focus:ring-red-500":"")})}),Z?(0,s.jsx)(y.Z,{onClick:()=>L(!Z),className:"cursor-pointer size-4 absolute right-3 top-4 transform -translate-y-1/2"}):(0,s.jsx)(v.Z,{onClick:()=>L(!Z),className:"cursor-pointer size-4 absolute right-3 top-4 transform -translate-y-1/2"}),(0,s.jsx)(m.zG,{})]})}})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)(m.Wi,{control:P.control,name:"remember",render:e=>{let{field:t}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)(m.NI,{children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(i.X,{onCheckedChange:e=>{t.onChange(e)},disabled:G,checked:t.value,className:"rounded border-gray-300 text-indigo-600 shadow-sm size-4 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"}),(0,s.jsxs)("span",{className:"ml-2 text-xs font-semibold pt-[-300px]",children:["Remember me ",t.value]})]})}),(0,s.jsx)(m.zG,{})]})}}),(0,s.jsx)("span",{onClick:()=>{A(!_)},className:"hover:underline text-xs font-semibold cursor-pointer",children:"Forgot Password?"})]}),(0,s.jsx)("button",{disabled:G,type:"submit",className:"w-full py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-600 text-md",children:"Login"})]})}),(0,s.jsxs)("div",{className:"text-center text-xs text-gray-400 mt-4",children:["Not a member?"," ",(0,s.jsx)(a.default,{href:"/signup",className:"text-white text-xs font-semibold hover:underline",children:"Create New Account"})]}),(0,s.jsxs)("div",{className:"flex items-center my-4",children:[(0,s.jsx)("div",{className:"flex-grow border-t border-[#35383F]"}),(0,s.jsx)("span",{className:"mx-2 font-semibold text-sm",children:"Or continue with"}),(0,s.jsx)("div",{className:"flex-grow border-t border-[#35383F]"})]}),(0,s.jsx)("div",{className:"flex gap-2 flex-col",children:(0,s.jsx)("a",{href:"".concat(S,"/social-login/google"),children:(0,s.jsx)("div",{className:"flex flex-row justify-center space-y-4 bg-secondarybackground p-2 border-[2px] border-[#121212] rounded-[18px] cursor-pointer",children:(0,s.jsxs)("div",{className:"flex items-center justify-center w-96 h-10 rounded-full",children:[(0,s.jsx)(j.default,{src:"/images/google.webp",width:24,height:24,alt:"Google",className:"h-6 w-6 mr-3"}),"Continue with Google"]})})})})]})}),(0,s.jsx)(b,{open:_,setOpen:()=>A(!_)})]})}},30715:function(e,t,r){"use strict";r.d(t,{X:function(){return i}});var s=r(68247),a=r(80888),n=r(82240),l=r(80035),o=r(58023);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.fC,{ref:t,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...a,children:(0,s.jsx)(n.z$,{className:(0,o.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(l.Z,{className:"h-4 w-4"})})})});i.displayName=n.fC.displayName},16723:function(e,t,r){"use strict";r.d(t,{Vq:function(){return i},cZ:function(){return u},Be:function(){return x},fK:function(){return m},$N:function(){return f}});var s=r(68247),a=r(80888),n=r(23333),l=r(58023),o=()=>(0,s.jsx)("div",{className:"w-6 h-6",children:(0,s.jsxs)("svg",{viewBox:"0 0 29 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("rect",{x:"3.57812",width:"35.4245",height:"5.06065",transform:"rotate(45 3.57812 0)",fill:"white"}),(0,s.jsx)("rect",{y:"25.4453",width:"35.4245",height:"5.06065",transform:"rotate(-45 0 25.4453)",fill:"white"})]})});let i=n.fC;n.xz;let d=n.h_;n.x8;let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a})});c.displayName=n.aV.displayName;let u=a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,s.jsxs)(d,{children:[(0,s.jsx)(c,{}),(0,s.jsxs)(n.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...i,children:[a,(0,s.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(o,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=n.VY.displayName;let m=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};m.displayName="DialogHeader";let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",r),...a})});f.displayName=n.Dx.displayName;let x=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...a})});x.displayName=n.dk.displayName},48981:function(e,t,r){"use strict";r.d(t,{l0:function(){return u},NI:function(){return b},Wi:function(){return f},xJ:function(){return p},lX:function(){return g},zG:function(){return j}});var s=r(68247),a=r(80888),n=r(69654),l=r(3643),o=r(58023),i=r(2380);let d=(0,r(54110).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.f,{ref:t,className:(0,o.cn)(d(),r),...a})});c.displayName=i.f.displayName;let u=l.RV,m=a.createContext({}),f=e=>{let{...t}=e;return(0,s.jsx)(m.Provider,{value:{name:t.name},children:(0,s.jsx)(l.Qr,{...t})})},x=()=>{let e=a.useContext(m),t=a.useContext(h),{getFieldState:r,formState:s}=(0,l.Gc)(),n=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...n}},h=a.createContext({}),p=a.forwardRef((e,t)=>{let{className:r,...n}=e,l=a.useId();return(0,s.jsx)(h.Provider,{value:{id:l},children:(0,s.jsx)("div",{ref:t,className:(0,o.cn)("space-y-2",r),...n})})});p.displayName="FormItem";let g=a.forwardRef((e,t)=>{let{className:r,...a}=e,{error:n,formItemId:l}=x();return(0,s.jsx)(c,{ref:t,className:(0,o.cn)(n&&"text-destructive",r),htmlFor:l,...a})});g.displayName="FormLabel";let b=a.forwardRef((e,t)=>{let{...r}=e,{error:a,formItemId:l,formDescriptionId:o,formMessageId:i}=x();return(0,s.jsx)(n.g7,{ref:t,id:l,"aria-describedby":a?"".concat(o," ").concat(i):"".concat(o),"aria-invalid":!!a,...r})});b.displayName="FormControl",a.forwardRef((e,t)=>{let{className:r,...a}=e,{formDescriptionId:n}=x();return(0,s.jsx)("p",{ref:t,id:n,className:(0,o.cn)("text-sm text-muted-foreground",r),...a})}).displayName="FormDescription";let j=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e,{error:l,formMessageId:i}=x(),d=l?String(null==l?void 0:l.message):a;return d?(0,s.jsx)("p",{ref:t,id:i,className:(0,o.cn)("text-sm font-medium text-destructive",r),...n,children:d}):null});j.displayName="FormMessage"},52842:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var s=r(68247),a=r(80888),n=r(58023);let l=a.forwardRef((e,t)=>{let{className:r,type:a,...l}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...l})});l.displayName="Input"},97768:function(e){e.exports={loginModal:"style_loginModal__rn9pZ"}}}]);