{% load static i18n widget_tweaks %}

<div class="float-left w-[100%] max-[600px]:w-[100%] min-[882px]:w-[70%]">
  <div class="col-span-full xl:col-auto">
    <div class="mb-4 rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-900 sm:p-6 2xl:col-span-2">
      <nav class="mb-5 flex" aria-label="Breadcrumb">
        <ol class="inline-flex items-center space-x-1 text-sm font-medium md:space-x-2">
          <li class="inline-flex items-center">
            <a href="{% url 'index' %}"
               class="inline-flex items-center text-gray-700 hover:text-primary-600 dark:text-gray-300 dark:hover:text-white">
              <svg class="mr-2.5 h-5 w-5"
                   fill="currentColor"
                   viewBox="0 0 20 20"
                   xmlns="http://www.w3.org/2000/svg">
                <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z">
                </path>
              </svg>
              {% trans ' Home' %}
            </a>
          </li>
          <li>
            <div class="flex items-center">
              <svg class="h-6 w-6 text-gray-400"
                   fill="currentColor"
                   viewBox="0 0 20 20"
                   xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd">
                </path>
              </svg>
              <a href="#"
                 class="ml-1 text-gray-700 hover:text-primary-600 dark:text-gray-300 dark:hover:text-white md:ml-2">{% trans 'Users' %}</a>
            </div>
          </li>
          <li>
            <div class="flex items-center">
              <svg class="h-6 w-6 text-gray-400"
                   fill="currentColor"
                   viewBox="0 0 20 20"
                   xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd">
                </path>
              </svg>
              <span class="ml-1 text-gray-400 dark:text-gray-500 md:ml-2"
                    aria-current="page">{% trans 'Settings' %}</span>
            </div>
          </li>
        </ol>
      </nav>
      <div class="items-center sm:flex sm:space-x-4 xl:block xl:space-x-0 2xl:flex 2xl:space-x-4">
        {% if object.images %}
          <img class="mb-4 h-28 w-28 rounded-lg sm:mb-0 xl:mb-4 2xl:mb-0"
               src=" {{ object.images.url }} "
               alt="{{ object.username }} picture" />
        {% else %}
          <img class="mb-4 h-28 w-28 rounded-lg sm:mb-0 xl:mb-4 2xl:mb-0"
               src="{% static 'users/joseph-mcfall.png' %}"
               alt="{{ object.username }} picture" />
        {% endif %}
        <div>
          <h3 class="mb-1 text-xl font-bold text-gray-900 dark:text-white">{{ object.email }}</h3>
          <div class="mb-4 text-sm text-gray-500 dark:text-gray-400">{{ object.username }}</div>
          <div class="flex items-center space-x-4">
            <a href="{% url 'account_email' %}"
               class="inline-flex items-center rounded-lg bg-primary-700 px-3 py-2 text-center text-sm font-medium text-white hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800">
              <svg class="-ml-1 mr-2 h-4 w-4"
                   fill="currentColor"
                   viewBox="0 0 20 20"
                   xmlns="http://www.w3.org/2000/svg">
                <path d="M5.5 13a3.5 3.5 0 01-.369-6.98 4 4 0 117.753-1.977A4.5 4.5 0 1113.5 13H11V9.413l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13H5.5z">
                </path>
                <path d="M9 13h2v5a1 1 0 11-2 0v-5z"></path>
              </svg>
              {% trans 'E-Mail' %}
            </a>
            <a href="{% url 'mfa_index' %}"
               class="rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm font-medium text-gray-900 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white dark:focus:ring-gray-700">
              {% trans 'MFA' %}
            </a>
          </div>
        </div>
      </div>
    </div>
    <div class="col-span-2">
      <div class="mb-4 rounded-lg p-4 shadow-sm sm:p-6 2xl:col-span-2">
        <div class="flow-root">
          <h3 class="text-xl font-semibold dark:text-white">{% trans "Comments" %}</h3>
          <p class="text-sm font-normal text-gray-500 dark:text-gray-400">{% trans "You can View Your Chapter Comments" %}</p>
          <div class="divide-y divide-gray-200 dark:divide-gray-700">
            {% with object.get_user_comments_children as comments %}
              <!-- Item 1 -->
              <div class="flex items-center justify-between py-4">
                <table class="table table-xs w-full text-left text-sm text-gray-500 dark:text-gray-400">
                  {% block table.thead %}
                    <thead class="bg-gray-50 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400">
                      <tr>
                        <th scope="col" class="px-3 py-1.5">{% trans 'Chapter' %}</th>
                        <th scope="col" class="px-3 py-1.5">{% trans 'Text' %}</th>
                        <th scope="col" class="px-3 py-1.5">{% trans 'Comic' %}</th>
                      </tr>
                    </thead>
                  {% endblock table.thead %}
                  {% block table.tbody %}
                    <tbody>
                      {% for comment in object_list %}
                        <tr class="border-b hover:bg-gray-100 dark:border-gray-600 dark:hover:bg-gray-700">
                          <td class="px-2 py-1.5">
                            <a href="{{ comment.chapter.get_absolute_url }}">{{ comment.chapter.name }}</a>
                          </td>
                          <td class="px-2 py-1.5">
                            <div class="flex min-w-0 items-center ">
                              <div class="h-10 w-10 rounded-full flex-shrink-0">{{ comment.text|safe }}</div>
                            </div>
                          </td>
                          <td class="px-2 py-1.5">
                            <a href="{{ comment.comic.get_absolute_url }}">{{ comment.comic.title }}</a>
                          </td>
                        </tr>
                      {% empty %}
                        <tr class="border-b hover:bg-red-100 dark:border-red-600 dark:hover:bg-red-700">
                          <td class="px-2 py-1.5">{% trans 'No  comments' %}</td>
                        </tr>
                      {% endfor %}
                    </tbody>
                  {% endblock table.tbody %}
                </table>
              </div>
              {% if object_list and object_list.paginator.num_pages > 1 %}
                <div hx-swap="outerHTML"
                     hx-push-url="true"
                     hx-target="#container"
                     hx-indicator=".prog"
                     class="flex items-center justify-between pt-3 sm:pt-6">
                  <div class="flex items-center mb-4 sm:mb-0">
                    {% if object_list.number != 1 %}
                      <button href="?page=1"
                              hx-get="?page=1"
                              class="inline-flex justify-center p-1 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white">
                        <svg class="w-7 h-7"
                             fill="currentColor"
                             viewBox="0 0 20 20"
                             xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd">
                          </path>
                        </svg>
                      </button>
                    {% else %}
                      <button class="inline-flex justify-center p-1 text-gray-500 rounded  cursor-none hover:text-gray-900 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white">
                        <svg class="w-7 h-7"
                             fill="currentColor"
                             viewBox="0 0 20 20"
                             xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd">
                          </path>
                        </svg>
                      </button>
                    {% endif %}
                    {% if object_list.number != object_list.paginator.num_pages %}
                      <button href="?page={{ object_list.paginator.num_pages }}"
                              hx-get="?page={{ object_list.paginator.num_pages }}"
                              class="inline-flex justify-center p-1 mr-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white">
                        <svg class="w-7 h-7"
                             fill="currentColor"
                             viewBox="0 0 20 20"
                             xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd">
                          </path>
                        </svg>
                      </button>
                    {% else %}
                      <button class="inline-flex justify-center p-1 mr-2 text-gray-500 rounded cursor-none hover:text-gray-900 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white">
                        <svg class="w-7 h-7"
                             fill="currentColor"
                             viewBox="0 0 20 20"
                             xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd">
                          </path>
                        </svg>
                      </button>
                    {% endif %}
                    <span class="text-sm font-light text-gray-500 dark:text-gray-400">
                      Showing
                      <span class="font-semibold text-gray-900 dark:text-white">{{ object_list.number }}</span>
                      of
                      <span class="font-semibold text-gray-900 dark:text-white">{{ object_list.paginator.num_pages }}</span>
                    </span>
                  </div>
                  <div class="flex-shrink-0 flex items-center space-x-3">
                    <div>
                      {% if object_list.has_previous %}
                        <button href="?page={{ object_list.previous_page_number }}"
                                hx-get="?page={{ object_list.previous_page_number }}"
                                class="inline-flex items-center justify-center flex-1 px-3 py-2 text-sm font-light text-center text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800">
                          <svg class="w-5 h-5 mr-1 -ml-1"
                               fill="currentColor"
                               viewBox="0 0 20 20"
                               xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd">
                            </path>
                          </svg>
                          Previous
                        </button>
                      {% else %}
                        <button disabled
                                class="inline-flex items-center justify-center flex-1 px-3 py-2 text-sm font-light text-center text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800">
                          <svg class="w-5 h-5 mr-1 -ml-1"
                               fill="currentColor"
                               viewBox="0 0 20 20"
                               xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd">
                            </path>
                          </svg>
                          Previous
                        </button>
                      {% endif %}
                    </div>
                    <div class="join">
                      {% for page_number in object_list.paginator.get_elided_page_range %}
                        {% if page_number == object_list.paginator.ELLIPSIS %}
                          <button class="join-item btn btn-sm">{{ page_number }}</button>
                        {% else %}
                          {% if page_number == object_list.number %}
                            <button href="?page={{ page_number }}"
                                    hx-get="?page={{ page_number }}"
                                    class="join-item btn btn-sm btn-active">{{ page_number }}</button>
                          {% else %}
                            <button href="?page={{ page_number }}"
                                    hx-get="?page={{ page_number }}"
                                    class="join-item btn btn-sm">{{ page_number }}</button>
                          {% endif %}
                        {% endif %}
                      {% endfor %}
                    </div>
                    <div>
                      {% if object_list.has_next %}
                        <button href="?page={{ object_list.next_page_number }}"
                                hx-get="?page={{ object_list.next_page_number }}"
                                class="inline-flex items-center justify-center flex-1 px-3 py-2 text-sm font-light text-center text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800">
                          Next
                          <svg class="w-5 h-5 ml-1 -mr-1"
                               fill="currentColor"
                               viewBox="0 0 20 20"
                               xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd">
                            </path>
                          </svg>
                        </button>
                      {% else %}
                        <button disabled
                                class="inline-flex items-center justify-center flex-1 px-3 py-2 text-sm font-light text-center text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800">
                          Next
                          <svg class="w-5 h-5 ml-1 -mr-1"
                               fill="currentColor"
                               viewBox="0 0 20 20"
                               xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd">
                            </path>
                          </svg>
                        </button>
                      {% endif %}
                    </div>
                  </div>
                </div>
              {% endif %}
            {% endwith %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
