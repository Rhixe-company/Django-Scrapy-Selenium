"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7725],{57725:function(e,t,r){r.d(t,{default:function(){return N}});var n=r(47362),a=r(60248),s=r(16072),l=r(77612),o=r(9180),d=r(84660),i=r(1532),c=r(71515),u=r(21793),m=r(49216),h=r(29967),f=r(84611),v=r(4908);let x=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(f.fC,{className:(0,m.cn)("grid gap-2",r),...a,ref:t})});x.displayName=f.fC.displayName;let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(f.ck,{ref:t,className:(0,m.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...a,children:(0,n.jsx)(f.z$,{className:"flex items-center justify-center",children:(0,n.jsx)(v.nQG,{className:"h-5.5 w-5.5 fill-current text-current"})})})});p.displayName=f.ck.displayName;var g=r(42665),b=r(52516);function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;return e.length>t?e.slice(0,t)+"...":e}function N(e){var t,r,f,v;let{params:N,genres:w,paramsLength:y,type:C}=e,[k,z]=(0,a.useState)(""),{data:S}=(0,l.ZP)("/api/series/filters",g.HT,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1}),R=(0,o.useRouter)(),I=e=>{if(k===e)return z("");z(e)},[L,A]=(0,a.useState)({genres:2==y?[Number(w)]:[],status:"-1",types:"-1",order:"update"}),F=s.z.object({genres:s.z.optional(s.z.array(s.z.number())),status:s.z.union([s.z.string(),s.z.number()]).optional(),types:s.z.union([s.z.string(),s.z.number()]).optional(),order:s.z.string().optional()});(0,a.useEffect)(()=>{2==y&&(localStorage.removeItem("".concat(C,"-filter")),A({genres:[Number(w)],status:"-1",types:"-1",order:"update"}));let e=e=>{Z.current&&!Z.current.contains(e.target)&&z("")};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let J=(0,d.cI)({resolver:(0,i.F)(F),defaultValues:L});(0,a.useEffect)(()=>{var e,t;(null===(e=Object.keys(N))||void 0===e?void 0:e.length)==1&&localStorage.removeItem("".concat(C,"-filter")),(null===(t=Object.keys(N))||void 0===t?void 0:t.length)==0&&"bookmarks"==C&&localStorage.removeItem("".concat(C,"-filter"));let r=localStorage.getItem("".concat(C,"-filter"));if(r){let e=JSON.parse(r);for(let t in e)J.setValue(t,e[t])}},[null==J?void 0:J.setValue]);let Z=(0,a.useRef)(null),V=()=>{var e,t;let r=null==S?void 0:null===(t=S.data)||void 0===t?void 0:null===(e=t.order)||void 0===e?void 0:e.filter((e,t)=>e.value==J.watch("order"))[0];return(null==r?void 0:r.name.length)>10?j(null==r?void 0:r.name):null==r?void 0:r.name},X=(e,t,r)=>{var n,a;let s=null==S?void 0:null===(a=S.data[null==e?void 0:e.value])||void 0===a?void 0:null===(n=a.filter(e=>(null==e?void 0:e.id)==J.watch(r))[0])||void 0===n?void 0:n.name,l=void 0!=J.watch(r)?"".concat("Any"==s?"All":s):" ".concat(t);return l.length>10?j(l):l};return(0,n.jsxs)("div",{ref:Z,children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-5 bg-[#222222] sm:gap-[6px] gap-[3px] px-2.5 sm:px-3 pt-[12px]",children:[[{label:"Genre",value:"genres",fun:I},{label:"Status",value:"statuses",fun:I},{label:"Type",value:"types",fun:I},{label:"Order by",value:"order",fun:I}].map((e,t)=>{var r,a,s;return(0,n.jsx)("div",{className:"bg-[#222222] sm:m-[2px] m-[4px]",children:(0,n.jsxs)(u.z,{className:"w-full hover:cursor-pointer justify-center\n              text-[#ccc] text-[12px] font-normal pl-[20px] align-middle\n               hover:bg-white hover:text-black  h-[26px] border-solid rounded-[2px] ".concat(e.value==k?"bg-white text-black":"bg-[#333] "),onClick:()=>e.fun(e.value),children:[(0,n.jsxs)("span",{className:"mt-0.5 capitalize",children:[" ",e.label," ","genres"==e.value&&((null===(r=J.watch("genres",[]))||void 0===r?void 0:r.length)==0?" All":(null===(a=J.watch("genres",[]))||void 0===a?void 0:a.length)<=1?X(e,"All","genres"):" ".concat(null===(s=J.watch("genres",[]))||void 0===s?void 0:s.length," selected")),"statuses"==e.value&&X(e,"All","status"),"types"==e.value&&X(e,"All","types"),"order"==e.value&&V()]}),(0,n.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ml-0",children:(0,n.jsx)("path",{d:"M4.18179 6.18181C4.35753 6.00608 4.64245 6.00608 4.81819 6.18181L7.49999 8.86362L10.1818 6.18181C10.3575 6.00608 10.6424 6.00608 10.8182 6.18181C10.9939 6.35755 10.9939 6.64247 10.8182 6.81821L7.81819 9.81821C7.73379 9.9026 7.61934 9.95001 7.49999 9.95001C7.38064 9.95001 7.26618 9.9026 7.18179 9.81821L4.18179 6.81821C4.00605 6.64247 4.00605 6.35755 4.18179 6.18181Z",fill:"none",stroke:"currentColor",strokeWidth:"1"})})]})},t)}),(0,n.jsx)("div",{className:"bg-[#222222] mt-[2px] ml-[2px] mb-[2px] mr-[3px] hidden sm:block",children:(0,n.jsxs)(u.z,{className:"w-full hover:cursor-pointer justify-center\n              text-white  text-[12px] font-normal border-none rounded-none\n                h-[26px] bg-themecolor hover:bg-[#333] hover:text-white\n              ",type:"submit",form:"hook-form",children:[(0,n.jsx)("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mr-0.5",children:(0,n.jsx)("path",{d:"M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z",fill:"none",fillRule:"evenodd",clipRule:"evenodd",stroke:"currentColor",strokeWidth:"1"})}),(0,n.jsx)("span",{className:"pt-0.5",children:"Search"})]})})]}),(0,n.jsx)("div",{className:"grid grid-cols-1 bg-[#222222] gap-1 p-4 pb-1 pt-2 sm:hidden",children:(0,n.jsxs)(u.z,{className:"w-full hover:cursor-pointer justify-center text-white  text-[12px] font-normal\n            h-[26px] border-solid rounded-[2px]  bg-themecolor hover:bg-[#333] hover:text-white\n          ",type:"submit",form:"hook-form",children:[(0,n.jsx)("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mr-0.5",children:(0,n.jsx)("path",{d:"M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z",fill:"none",fillRule:"evenodd",clipRule:"evenodd",stroke:"currentColor",strokeWidth:"1"})}),(0,n.jsx)("span",{className:"pt-0.5",children:"Search"})]})}),(0,n.jsx)("div",{className:"bg-[#222222] border-[#222222] sm:pr-3 sm:pl-3 overflow-hidden",children:(0,n.jsx)("div",{className:"bg-[#333] sm:max-h-[240px] overflow-hidden overflow-y-auto w-[68%] border-[#333333] mt-[-30px] sm:mt-1 absolute rounded-none z-10  max-[600px]:w-[100%] max-[768px]:w-[96.5%] max-[860px]:w-[93%] max-[882px]:w-[63%] max-[912px]:w-[66%] ",children:(0,n.jsx)(h.l0,{...J,children:(0,n.jsxs)("form",{id:"hook-form",onSubmit:J.handleSubmit(function(e){let t=JSON.parse(JSON.stringify(e));localStorage.setItem("".concat(C,"-filter"),JSON.stringify(t)),R.push("/".concat(C,"?").concat((0,b.K)({...N,...t}))),z("")}),className:"".concat(""==k?"":"p-4"),children:["genres"==k&&(0,n.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:[null==S?void 0:null===(v=S.data)||void 0===v?void 0:null===(f=v.genres)||void 0===f?void 0:f.slice(1,null==S?void 0:null===(r=S.data)||void 0===r?void 0:null===(t=r.genres)||void 0===t?void 0:t.length).map(e=>(0,n.jsx)(h.Wi,{control:J.control,name:"genres",render:t=>{var r;let{field:a}=t;return(0,n.jsxs)(h.xJ,{className:" flex flex-row items-start space-x-1 space-y-0",children:[(0,n.jsx)(h.NI,{children:(0,n.jsx)(c.X,{className:(0,m.cn)("data-[state=checked]:h-4 mt-1 data-[state=checked]:w-4 data-[state=checked]:font-bold data-[state=checked]:text-[#28a745] w-[13px] h-[13px] bg-[#5d5d5d] border-[#5d5d5d] data-[state=checked]:bg-[#333333] data-[state=checked]:border-[#333333] hover:cursor-pointer"),checked:null==a?void 0:null===(r=a.value)||void 0===r?void 0:r.includes(e.id),onCheckedChange:t=>{var r;return t?a.onChange([...a.value||[],e.id]):a.onChange(null===(r=a.value)||void 0===r?void 0:r.filter(t=>t!==e.id))}})}),(0,n.jsx)(h.lX,{className:"text-[12px] text-[#ccc] font-medium hover:cursor-pointer",children:(null==e?void 0:e.name)=="Any"?"All":null==e?void 0:e.name})]},e.id)}},e.id)),(0,n.jsx)(h.zG,{})]}),"statuses"==k&&(0,n.jsx)(h.Wi,{control:J.control,name:"status",render:e=>{var t,r,a;let{field:s}=e;return(0,n.jsxs)(h.xJ,{className:"space-y-3",children:[(0,n.jsx)(h.NI,{children:(0,n.jsx)(x,{onValueChange:e=>s.onChange(Number(e)),defaultValue:null===(t=s.value)||void 0===t?void 0:t.toString(),className:"flex flex-col space-y-1",children:(0,n.jsx)("div",{className:"grid grid-cols-4 gap-2",children:null==S?void 0:null===(a=S.data)||void 0===a?void 0:null===(r=a.statuses)||void 0===r?void 0:r.map((e,t)=>(0,n.jsxs)(h.xJ,{className:"flex items-center space-x-1 space-y-0",children:[(0,n.jsx)(h.NI,{children:(0,n.jsx)(p,{value:e.id.toString(),className:(0,m.cn)("data-[state=checked]:h-4 data-[state=checked]:w-4 data-[state=checked]:font-bold data-[state=checked]:text-[#28a745] w-[13px] h-[13px] bg-[#5d5d5d] border-[#5d5d5d] data-[state=checked]:bg-[#333333] data-[state=checked]:border-[#333333] hover:cursor-pointer")})}),(0,n.jsx)(h.lX,{className:"text-[12px] text-[#ccc] font-medium hover:cursor-pointer",children:(null==e?void 0:e.name)=="Any"?"All":null==e?void 0:e.name})]},t))})})}),(0,n.jsx)(h.zG,{})]})}}),"types"==k&&(0,n.jsx)(h.Wi,{control:J.control,name:k,render:e=>{var t,r,a;let{field:s}=e;return(0,n.jsxs)(h.xJ,{className:"space-y-3",children:[(0,n.jsx)(h.NI,{children:(0,n.jsx)(x,{onValueChange:e=>s.onChange(Number(e)),defaultValue:null===(t=s.value)||void 0===t?void 0:t.toString(),className:"flex flex-col space-y-1",children:(0,n.jsx)("div",{className:"grid grid-cols-4 gap-2",children:null==S?void 0:null===(a=S.data)||void 0===a?void 0:null===(r=a.types)||void 0===r?void 0:r.map((e,t)=>(0,n.jsxs)(h.xJ,{className:"flex items-center space-x-1 space-y-0",children:[(0,n.jsx)(h.NI,{children:(0,n.jsx)(p,{value:e.id.toString(),className:(0,m.cn)("data-[state=checked]:h-4 data-[state=checked]:w-4 data-[state=checked]:font-bold data-[state=checked]:text-[#28a745] w-[13px] h-[13px] bg-[#5d5d5d] border-[#5d5d5d] data-[state=checked]:bg-[#333333] data-[state=checked]:border-[#333333] hover:cursor-pointer")})}),(0,n.jsx)(h.lX,{className:"text-[12px] text-[#ccc] font-medium hover:cursor-pointer",children:(null==e?void 0:e.name)=="Any"?"All":null==e?void 0:e.name})]},t))})})}),(0,n.jsx)(h.zG,{})]})}}),"order"==k&&(0,n.jsx)(h.Wi,{control:J.control,name:"order",render:e=>{var t,r;let{field:a}=e;return(0,n.jsxs)(h.xJ,{className:"space-y-3",children:[(0,n.jsx)(h.NI,{children:(0,n.jsx)(x,{onValueChange:a.onChange,defaultValue:a.value,className:"flex flex-col space-y-1",children:(0,n.jsx)("div",{className:"grid grid-cols-4 gap-2",children:null==S?void 0:null===(r=S.data)||void 0===r?void 0:null===(t=r.order)||void 0===t?void 0:t.map((e,t)=>(0,n.jsxs)(h.xJ,{className:"flex items-center space-x-1 space-y-0",children:[(0,n.jsx)(h.NI,{children:(0,n.jsx)(p,{value:e.value,className:(0,m.cn)("data-[state=checked]:h-4 data-[state=checked]:w-4 data-[state=checked]:font-bold data-[state=checked]:text-[#28a745] w-[13px] h-[13px] bg-[#5d5d5d] border-[#5d5d5d] data-[state=checked]:bg-[#333333] data-[state=checked]:border-[#333333] hover:cursor-pointer")})}),(0,n.jsx)(h.lX,{className:"text-[12px] capitalize text-[#ccc] font-medium hover:cursor-pointer",children:e.name})]},t))})})}),(0,n.jsx)(h.zG,{})]})}})]})})})})]})}},21793:function(e,t,r){r.d(t,{z:function(){return i}});var n=r(47362),a=r(60248),s=r(33983),l=r(72319),o=r(49216);let d=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=a.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:i=!1,...c}=e,u=i?s.g7:"button";return(0,n.jsx)(u,{className:(0,o.cn)(d({variant:a,size:l,className:r})),ref:t,...c})});i.displayName="Button"},71515:function(e,t,r){r.d(t,{X:function(){return d}});var n=r(47362),a=r(60248),s=r(32164),l=r(75190),o=r(49216);let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.fC,{ref:t,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...a,children:(0,n.jsx)(s.z$,{className:(0,o.cn)("flex items-center justify-center text-current"),children:(0,n.jsx)(l.Z,{className:"h-4 w-4"})})})});d.displayName=s.fC.displayName},29967:function(e,t,r){r.d(t,{l0:function(){return u},NI:function(){return g},Wi:function(){return h},xJ:function(){return x},lX:function(){return p},zG:function(){return b}});var n=r(47362),a=r(60248),s=r(33983),l=r(84660),o=r(49216),d=r(13732);let i=(0,r(72319).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(d.f,{ref:t,className:(0,o.cn)(i(),r),...a})});c.displayName=d.f.displayName;let u=l.RV,m=a.createContext({}),h=e=>{let{...t}=e;return(0,n.jsx)(m.Provider,{value:{name:t.name},children:(0,n.jsx)(l.Qr,{...t})})},f=()=>{let e=a.useContext(m),t=a.useContext(v),{getFieldState:r,formState:n}=(0,l.Gc)(),s=r(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...s}},v=a.createContext({}),x=a.forwardRef((e,t)=>{let{className:r,...s}=e,l=a.useId();return(0,n.jsx)(v.Provider,{value:{id:l},children:(0,n.jsx)("div",{ref:t,className:(0,o.cn)("space-y-2",r),...s})})});x.displayName="FormItem";let p=a.forwardRef((e,t)=>{let{className:r,...a}=e,{error:s,formItemId:l}=f();return(0,n.jsx)(c,{ref:t,className:(0,o.cn)(s&&"text-destructive",r),htmlFor:l,...a})});p.displayName="FormLabel";let g=a.forwardRef((e,t)=>{let{...r}=e,{error:a,formItemId:l,formDescriptionId:o,formMessageId:d}=f();return(0,n.jsx)(s.g7,{ref:t,id:l,"aria-describedby":a?"".concat(o," ").concat(d):"".concat(o),"aria-invalid":!!a,...r})});g.displayName="FormControl",a.forwardRef((e,t)=>{let{className:r,...a}=e,{formDescriptionId:s}=f();return(0,n.jsx)("p",{ref:t,id:s,className:(0,o.cn)("text-sm text-muted-foreground",r),...a})}).displayName="FormDescription";let b=a.forwardRef((e,t)=>{let{className:r,children:a,...s}=e,{error:l,formMessageId:d}=f(),i=l?String(null==l?void 0:l.message):a;return i?(0,n.jsx)("p",{ref:t,id:d,className:(0,o.cn)("text-sm font-medium text-destructive",r),...s,children:i}):null});b.displayName="FormMessage"},42665:function(e,t,r){r.d(t,{HT:function(){return a},a4:function(){return s},yY:function(){return l}});var n=r(16176);r(68700);let a=async(e,t)=>await n.Z.get(e,{headers:t}),s=async(e,t,r)=>await n.Z.post(e,t,{headers:r}),l=async(e,t)=>await n.Z.delete(e,{headers:t})},16176:function(e,t,r){var n=r(28987);let a=(0,r(33150).env)("NEXT_PUBLIC_BACKEND_URL"),s=n.Z.create({baseURL:a,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",Accept:"application/json","Cache-Control":"no-cache"},withCredentials:!0,withXSRFToken:!0});t.Z=s,s.interceptors.response.use(e=>e,e=>{if(e.response){if(503==e.response.status)return Promise.reject("under maintenance");if(502==e.response.status)return Promise.reject("Bad Gateway")}return Promise.reject(e)})},52516:function(e,t,r){r.d(t,{K:function(){return n}});let n=e=>new URLSearchParams(e).toString()},49216:function(e,t,r){r.d(t,{cn:function(){return s}});var n=r(167),a=r(32346);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}}}]);