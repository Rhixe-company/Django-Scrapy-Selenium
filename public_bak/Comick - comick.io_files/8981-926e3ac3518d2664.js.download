try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},l=(new e.Error).stack;l&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[l]="eb36a662-2f1c-435f-b361-d91886085cda",e._sentryDebugIdIdentifier="sentry-dbid-eb36a662-2f1c-435f-b361-d91886085cda")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8981],{2498:(e,l,r)=>{r.d(l,{A:()=>n});var s=r(23798),a=r(21462),t=r(95512);function n(e){let{id:l,windowVirtualizerProps:r,children:n}=e,c="4window-list-cache-"+l,d=(0,a.useRef)(null),[i,o]=(0,a.useMemo)(()=>{try{let e=sessionStorage.getItem(c);if(!e)return[];return JSON.parse(e)}catch(e){return[]}},[]);return(0,a.useLayoutEffect)(()=>{if(!d.current)return;let e=d.current;window.scrollTo(0,null!=i?i:0);let l=0,r=()=>{l=window.scrollY};return window.addEventListener("scroll",r),r(),()=>{window.removeEventListener("scroll",r);try{sessionStorage.setItem(c,JSON.stringify([l,e.cache]))}catch(e){console.error(e)}}},[]),(0,s.jsx)(t.oj,{ref:d,cache:o,...r,children:n})}},25150:(e,l,r)=>{r.d(l,{A:()=>c});var s=r(23798),a=r(97393);r(21462);let t={xs:"rounded px-2 py-1 text-xs",sm:"rounded px-2.5 py-1.5 text-xs",md:"rounded-md px-3 py-2 text-sm leading-4",lg:"rounded-md px-4 py-2 text-sm",xl:"rounded-md px-4 py-2 text-base","2xl":"rounded-md px-6 py-3 text-base"},n={default:"border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 focus:ring-blue-500",primary:"border-transparent bg-blue-600 dark:bg-blue-600 text-white hover:bg-blue-700 dark:hover:bg-blue-500 focus:ring-blue-500",secondary:"border-transparent bg-blue-100 dark:bg-blue-700 text-blue-700 dark:text-blue-200  hover:bg-blue-200 dark:hover:bg-blue-600 focus:ring-blue-500"};function c(e){let{size:l="md",children:r,onClick:c,type:d="button",color:i="default",disabled:o=!1,className:u="",id:h=""}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("button",{type:d,onClick:c,color:i,disabled:o,className:(0,a.A)(u,"inline-flex items-center rounded font-medium shadow-sm focus:outline-none focus:ring-2",t[l],n[i],o?"opacity-75":""),id:h,children:r})})}},40455:(e,l,r)=>{r.d(l,{K:()=>k,A:()=>j});var s=r(23798),a=r(59075),t=r(86647),n=r(216),c=r(46720),d=r(66478),i=r(3169),o=r(97393),u=r(3087),h=r(70675);function g(e){let{genres:l}=e,r=(0,i.md)(d.p9),o=l;r.data.info.accept_erotic_content||(o=o.filter(e=>!["yaoi","yuri","smut","incest","sexual-violence"].includes(e.slug))),r.data.info.accept_mature_content||r.data.info.accept_erotic_content||(o=o.filter(e=>!["adult","ecchi","shota"].includes(e.slug)));let g=(0,c.useRouter)(),x=[];g.query.genres&&(x="string"==typeof g.query.genres?[g.query.genres]:g.query.genres);let p=[];g.query.excludes&&(p="string"==typeof g.query.excludes?[g.query.excludes]:g.query.excludes);let[y,v]=(0,t.A)(!0);function b(e){let l=[];if(e.target.options){let r=e.target.options;for(let e=0,s=r.length;e<s;e++)r[e].selected&&l.push(r[e].value)}else if(e.target.value){(null==p?void 0:p.length)>0&&(l=p);let r=l.indexOf(e.target.value);-1!=r?l.splice(r,1):l.push(e.target.value)}g.push({query:{...g.query,excludes:l}},void 0,{shallow:!0})}function f(e){let l=[...Array.isArray(x)?x:[]],r=[...Array.isArray(p)?p:[]],s=e.target.value,a=l.indexOf(s),t=r.indexOf(s);-1!==a?(l.splice(a,1),r.push(s)):-1!==t?r.splice(t,1):l.push(s),g.push({query:{...g.query,genres:l.length>0?l:void 0,excludes:r.length>0?r:void 0}},void 0,{shallow:!0})}let j=(0,a.A)(),w=(0,n.A)(),{refs:N,floatingStyles:q,context:A}=(0,h.we)({}),C=(0,h.kp)(A),{getReferenceProps:_,getFloatingProps:F}=(0,h.bv)([C]);return(0,s.jsxs)("div",{id:"genre-select",children:[w&&!j("md")?(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex justify-between",children:(0,s.jsxs)("div",{className:"md:mb-4 lg:text-lg font-bold flex ",children:[(0,s.jsx)("div",{className:y?"":"text-gray-400 cursor-pointer hover:text-gray-600",onClick:v,children:"Genres"}),b&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"px-2",children:"|"}),(0,s.jsx)("div",{className:y?"text-gray-400 cursor-pointer hover:text-gray-600 ":"",onClick:v,children:"Exclude Genres"})]})]},"genre-select-1")}),(0,s.jsxs)("select",{className:"w-full mt-1 md:mt-2 border-gray-400 dark:border-gray-500 border lg:py-2 pl-2 rounded "+(y?"":" hidden"),multiple:!0,onChange:function(e){let l=[];if(e.target.options){let r=e.target.options;for(let e=0,s=r.length;e<s;e++)r[e].selected&&l.push(r[e].value)}else if(e.target.value){g.query.genres&&(l=x);let r=l.indexOf(e.target.value);e.target.checked&&-1==r?l.push(e.target.value):e.target.checked||-1==r||l.splice(r,1)}g.push({query:{...g.query,genres:l}},void 0,{shallow:!0})},value:x,children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"Select genres"}),Object.values(o).map(e=>(0,s.jsxs)("option",{value:e.slug,children:[e.name,e.comic_count?" ("+e.comic_count+")":""]},"genres-checkbox-s"+e.slug))]}),b&&(0,s.jsxs)("select",{className:"w-full bg-gray-100 dark:bg-gray-900 border-gray-400 dark:border-gray-500 border lg:py-2 pl-2 rounded "+(y&&" hidden"),multiple:!0,onChange:b,value:p,children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"Exclude Genres"}),Object.values(l).map(e=>(0,s.jsx)("option",{value:e.slug,children:e.name},"g-s"+e.slug))]})]}):null,w&&j("md")?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.AM,{className:"relative",children:e=>{let{open:l}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.AM.Button,{ref:N.setReference,..._(),className:"w-full",children:(0,s.jsx)("input",{className:"w-40",name:"search_genres",placeholder:"Search Genres",type:"text",defaultValue:x})}),l&&(0,s.jsx)(u.AM.Panel,{className:"z-10 absolute bg-white dark:bg-gray-750 shadow-400 dark:shadow-black shadow-md mt-3 w-screen max-w-2xl transform px-4 sm:px-0 lg:max-w-3xl xl:max-w-4xl",children:(0,s.jsxs)("div",{className:"border border-dashed p-3 rounded border-gray-300 dark:border-gray-700",children:[(0,s.jsx)("div",{className:"flex gap-12 items-center",children:(0,s.jsx)("div",{className:"text-lg lg:text-lg font-bold",children:"Genres"})}),(0,s.jsx)(m,{filteredGenres:o.filter(e=>"Genre"==e.group||"Content"==e.group),on:!0,genreQueries:x,handleChange:f,exclude:!1}),(0,s.jsx)("h3",{className:"mt-3",children:"Theme"}),(0,s.jsx)(m,{filteredGenres:o.filter(e=>"Theme"==e.group),on:!0,genreQueries:x,handleChange:f,exclude:!1}),(0,s.jsx)("h3",{className:"mt-3",children:"Format"}),(0,s.jsx)(m,{filteredGenres:o.filter(e=>"Format"==e.group),on:!0,genreQueries:x,handleChange:f,exclude:!1})]})})]})}}),(null==x?void 0:x.length)>0&&(0,s.jsx)(k,{selectedItems:x.map(e=>({k:e,v:e})),param:"genres"}),(null==p?void 0:p.length)>0&&(0,s.jsx)(k,{selectedItems:p.map(e=>({k:e,v:e})),param:"excludes",lineThrough:!0})]}):null]})}function m(e){let{filteredGenres:l,on:r,genreQueries:a,handleChange:t,exclude:n=!1}=e,d=(0,c.useRouter)(),i=d.query.excludes?Array.isArray(d.query.excludes)?d.query.excludes:[d.query.excludes]:[];return(0,s.jsx)("ul",{className:(0,o.A)("grid grid-flow-row md:grid-cols-4 gap-x-8 mt-2 md:text-sm lg:text-base max-h-96 overflow-hidden",!r&&"hidden",n&&"bg-gray-100 dark:bg-gray-900"),children:l.map(e=>{let l=a.includes(e.slug),r=i.includes(e.slug),n=r?"excluded":l?"included":"none";return(0,s.jsxs)("li",{className:"flex items-center hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{type:"checkbox",value:e.slug,checked:l||r,className:(0,o.A)("form-checkbox h-4 w-4 transition duration-150 ease-in-out cursor-pointer focus:ring-0 focus:ring-offset-0",{"text-red-500 hover:text-red-500 focus:text-red-500":r,"text-blue-600 hover:text-blue-600 focus:text-blue-600":l,"tri-state":r}),onChange:t,"data-state":n,id:"checkbox-".concat(e.slug)})}),(0,s.jsxs)("label",{className:(0,o.A)("ml-1 lg:pl-2 w-full cursor-pointer truncate",r&&"line-through"),htmlFor:"checkbox-".concat(e.slug),title:e.comic_count+" comics",children:[e.name,(0,s.jsx)("span",{className:"hidden xl:inline-block xl:ml-1 text-xs text-gray-500",children:e.comic_count?" (".concat(e.comic_count,")"):""})]})]},"genre-checkbox-".concat(e.slug))})})}r(21462);var x=r(81264),p=r(24818),y=r(26314),v=r(58513),b=r(44291),f=r(36131);function j(e){var l,r,t,n,u,h;let{tags:m=null,genres:y,hideMyList:b=!1}=e,j=(0,c.useRouter)(),N=(0,i.md)(d.p9),q=(0,a.A)(),A=[];j.query.tags&&(A="string"==typeof j.query.tags?[j.query.tags]:j.query.tags);let C=[];if((null==A?void 0:A.length)>0)for(let e of m)A.includes(e.k)&&C.push({k:e.k,v:e.v});let _=[];j.query["excluded-tags"]&&(_="string"==typeof j.query["excluded-tags"]?[j.query["excluded-tags"]]:j.query["excluded-tags"]);let F=[];if((null==_?void 0:_.length)>0)for(let e of m)_.includes(e.k)&&F.push({k:e.k,v:e.v});let O=[];j.query.demographic&&(O="string"==typeof j.query.demographic?[j.query.demographic]:j.query.demographic);let S=[];function E(e){var l;let r=O;e.target.checked&&(null==(l=e.target)?void 0:l.value)?O.includes(e.target.value)||r.push(e.target.value):O.includes(e.target.value)&&(r=r.filter(l=>l!==e.target.value)),j.push({query:{...j.query,demographic:r}},void 0,{shallow:!0})}function I(e){let l=S;e.target.checked?S.includes(e.target.value)||l.push(e.target.value):S.includes(e.target.value)&&(l=l.filter(l=>l!==e.target.value)),j.push({query:{...j.query,country:l}},void 0,{shallow:!0})}return j.query.country&&(S="string"==typeof j.query.country?[j.query.country]:j.query.country),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-[1px] bg-gray-400 border-gray-400 dark:bg-gray-600 md:border dark:border-gray-600",children:[(0,s.jsxs)("div",{className:(0,o.A)("h-full p-1 py-4 md:p-3 bg-white dark:bg-gray-800",(null==(l=j.query.genres)?void 0:l.length)>0&&"ring-1 ring-green-500"),children:[q("md")&&(0,s.jsx)("strong",{className:"block ",children:"Genres"}),(0,s.jsx)("div",{className:"mt-1 md:mt-2",children:(0,s.jsx)(g,{genres:y})})]}),(null==m?void 0:m.length)>0?(0,s.jsxs)("div",{className:(0,o.A)("h-full p-1 py-4 md:p-3 bg-white dark:bg-gray-800",j.query.tags&&"ring-1 ring-green-500"),children:[(0,s.jsxs)("strong",{className:"block ",children:["Tags",(0,s.jsx)("small",{className:"text-xs ml-1 font-normal text-gray-500 ",children:"Select 2 times to exclude"})]}),(0,s.jsxs)("div",{className:"mt-1 md:mt-2",children:[(0,s.jsx)(x.A,{defaultItems:C,placeholder:"Search Tags",enableExclude:!0,fetchOptions:async e=>""==e?[]:(await (0,f.A)("https://api.comick.io/search/tag?k="+e)).data,onChangeEvent:e=>{let l=[],r=[];for(let s of e)"excluded"==s.state?l.push(s.k):r.push(s.k);j.push({query:{...j.query,tags:r,"excluded-tags":l}},void 0,{shallow:!0})}}),C.length>0||F.length>0?(0,s.jsx)(k,{selectedItems:C,excludedItems:F,param:"tags",excludeParam:"excluded-tags"}):null]})]}):null,(0,s.jsxs)("div",{className:(0,o.A)("h-full p-1 py-4 md:p-3 bg-white dark:bg-gray-800",j.query.demographic&&"ring-1 ring-green-500"),children:[(0,s.jsx)("strong",{className:"block ",children:"Demographic"}),(0,s.jsxs)("ul",{className:"flex justify-between lg:justify-start lg:space-x-2 mt-1 md:mt-2 h-9",children:[(0,s.jsxs)("li",{className:"flex items-center hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,s.jsx)("input",{className:"cursor-pointer",type:"checkbox",checked:-1!=O.indexOf("1"),value:"1",onChange:E,id:"checkbox_shounen"}),(0,s.jsx)("label",{className:"pl-1 md:pl-1 w-full cursor-pointer text-xs",htmlFor:"checkbox_shounen",children:"Shounen"})]}),(0,s.jsxs)("li",{className:"flex items-center hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,s.jsx)("input",{className:"cursor-pointer",type:"checkbox",checked:-1!=O.indexOf("2"),value:"2",onChange:E,id:"checkbox_shoujo"}),(0,s.jsx)("label",{className:"pl-1 md:pl-1 w-full cursor-pointer text-xs ",htmlFor:"checkbox_shoujo",children:"Shoujo"})]}),(0,s.jsxs)("li",{className:"flex items-center hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,s.jsx)("input",{className:"cursor-pointer",type:"checkbox",checked:-1!=O.indexOf("3"),value:"3",onChange:E,id:"checkbox_seinen"}),(0,s.jsx)("label",{className:"pl-1 md:pl-1 w-full cursor-pointer text-xs",htmlFor:"checkbox_seinen",children:"Seinen"})]}),(0,s.jsxs)("li",{className:"flex items-center hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,s.jsx)("input",{className:"cursor-pointer",type:"checkbox",checked:-1!=O.indexOf("4"),value:"4",onChange:E,id:"checkbox_josei"}),(0,s.jsx)("label",{className:"pl-1 md:pl-1 w-full cursor-pointer text-xs",htmlFor:"checkbox_josei",children:"Josei"})]}),(0,s.jsxs)("li",{className:"flex items-center hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,s.jsx)("input",{className:"cursor-pointer",type:"checkbox",checked:-1!=O.indexOf("5"),value:"5",onChange:E,id:"checkbox_none"}),(0,s.jsx)("label",{className:"pl-1 md:pl-1 w-full cursor-pointer text-xs",htmlFor:"checkbox_none",children:"None"})]})]})]}),(0,s.jsxs)("div",{className:(0,o.A)("p-1 py-4 md:p-3 bg-white dark:bg-gray-800",j.query.time&&"ring-1 ring-green-500"),children:[(0,s.jsx)("strong",{className:"",children:"Created at"}),(0,s.jsxs)("select",{className:"w-32 md:40 xl:48 mt-1 md:mt-2 py-1 md:py-2 pl-2 dark:border-gray-700 dark:bg-gray-700 rounded",onChange:e=>{j.push({query:{...j.query,time:e.target.value}},void 0,{shallow:!0})},defaultValue:j.query.time,children:[(0,s.jsx)("option",{value:void 0}),(0,s.jsx)("option",{value:"3",children:"3 days ago"}),(0,s.jsx)("option",{value:"7",children:"7 days ago"}),(0,s.jsx)("option",{value:"30",children:"30 days ago"}),(0,s.jsx)("option",{value:"90",children:"3 months ago"}),(0,s.jsx)("option",{value:"180",children:"6 months ago"}),(0,s.jsx)("option",{value:"365",children:"1 year ago"}),(0,s.jsx)("option",{value:"730",children:"2 year ago"})]})]}),(0,s.jsxs)("div",{className:(0,o.A)("h-full p-1 py-4 md:p-3 bg-white dark:bg-gray-800",j.query.country&&"ring-1 ring-green-500"),children:[(0,s.jsx)("strong",{className:"",children:"Type"}),(0,s.jsxs)("ul",{className:"flex mt-1 md:mt-2 justify-between lg:justify-start lg:space-x-4 h-9",children:[(0,s.jsxs)("li",{className:"flex items-center hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,s.jsx)("input",{className:"cursor-pointer",type:"checkbox",checked:-1!=S.indexOf("jp"),onChange:I,value:"jp",id:"checkbox_jp"}),(0,s.jsx)("label",{className:"pl-1 md:pl-2 w-full cursor-pointer text-xs",htmlFor:"checkbox_jp",children:"Manga"})]}),(0,s.jsxs)("li",{className:"flex items-center hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,s.jsx)("input",{className:"cursor-pointer",type:"checkbox",checked:-1!=S.indexOf("kr"),onChange:I,value:"kr",id:"checkbox_kr"}),(0,s.jsx)("label",{className:"pl-1 md:pl-2 w-full cursor-pointer text-xs",htmlFor:"checkbox_kr",children:"Manhwa"})]}),(0,s.jsxs)("li",{className:"flex items-center hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,s.jsx)("input",{className:"cursor-pointer",type:"checkbox",checked:-1!=S.indexOf("cn"),onChange:I,value:"cn",id:"checkbox_cn"}),(0,s.jsx)("label",{className:"pl-1 md:pl-2 w-full cursor-pointer text-xs",htmlFor:"checkbox_cn",children:"Manhua"})]}),(0,s.jsxs)("li",{className:"flex items-center hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,s.jsx)("input",{className:"cursor-pointer",type:"checkbox",checked:-1!=S.indexOf("others"),onChange:I,value:"others",id:"checkbox_others"}),(0,s.jsx)("label",{className:"pl-1 md:pl-2 w-full cursor-pointer text-xs",htmlFor:"checkbox_others",children:"Others"})]})]})]}),(0,s.jsxs)("div",{className:(0,o.A)("p-1 py-4 md:p-3 bg-white dark:bg-gray-800",j.query.minimum&&"ring-1 ring-green-500"),children:[(0,s.jsx)("strong",{className:"",children:"Minimum Chapters"}),(0,s.jsx)(v.A,{type:"number",min:2,defaultValue:null==(r=j.query)?void 0:r.minimum,onchangevalue:e=>j.push({query:{...j.query,minimum:e}},void 0,{shallow:!0}),className:"mt-1 md:mt-2 py-1 md:py-2 max-w-[6rem]"})]}),(0,s.jsxs)("div",{className:(0,o.A)("flex space-x-2 p-1 py-4 md:p-3 bg-white dark:bg-gray-800",j.query.status&&"ring-1 ring-green-500"),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Status"}),(0,s.jsx)("div",{className:"flex items-center mt-1 md:mt-2",children:(0,s.jsxs)("select",{className:"w-28 md:w-32 xl:w-36 mt-1 md:mt-2 py-1 md:py-2 lg:mt-0 pl-2 dark:border-gray-700 dark:bg-gray-700 rounded",onChange:e=>{e.target.value=isNaN(e.target.value)?null:e.target.value,j.push({query:{...j.query,status:e.target.value}},void 0,{shallow:!0})},defaultValue:j.query.status,children:[(0,s.jsx)("option",{value:null,children:"-- (All) --"}),(0,s.jsx)("option",{value:"1",children:"Ongoing"}),(0,s.jsx)("option",{value:"2",children:"Completed"}),(0,s.jsx)("option",{value:"3",children:"Cancelled"}),(0,s.jsx)("option",{value:"4",children:"Hiatus"})]})})]}),N.data.info.accept_erotic_content&&(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Content Rating"}),(0,s.jsx)("div",{className:"flex items-center mt-1 md:mt-2",children:(0,s.jsxs)("select",{className:"w-28 md:w-32 xl:w-36 mt-1 md:mt-2 py-1 md:py-2 lg:mt-0 pl-2 dark:border-gray-700 dark:bg-gray-700 rounded",onChange:e=>{e.target.value=["suggestive","erotica","safe"].includes(e.target.value)?e.target.value:null,j.push({query:{...j.query,content_rating:e.target.value}},void 0,{shallow:!0})},defaultValue:j.query.content_rating,children:[(0,s.jsx)("option",{value:null,children:"-- (All) --"}),(0,s.jsx)("option",{value:"safe",children:"Safe"}),(0,s.jsx)("option",{value:"suggestive",children:"Suggestive"}),(0,s.jsx)("option",{value:"erotica",children:"Erotica"})]})})]})]}),(0,s.jsxs)("div",{className:(0,o.A)("p-1 py-4 md:p-3 bg-white dark:bg-gray-800",j.query.from||j.query.to?"ring-1 ring-green-500":""),children:[(0,s.jsx)("strong",{className:"",children:"Released"}),(0,s.jsxs)("div",{className:"flex items-center mt-1 md:mt-2",children:[(0,s.jsxs)("select",{className:"w-32 mt-1 py-1 md:py-2 lg:mt-0 pl-2 dark:border-gray-700 dark:bg-gray-700 rounded",onChange:e=>{e.target.value=isNaN(e.target.value)?null:e.target.value,j.push({query:{...j.query,from:e.target.value}},void 0,{shallow:!0})},defaultValue:j.query.from,children:[(0,s.jsx)("option",{value:null,children:"-- From --"}),w().map(e=>(0,s.jsx)("option",{value:e,children:0==e?"Before 1990":e},e))]}),(0,s.jsx)(p.A,{className:"w-6 h-6 mx-3"}),(0,s.jsxs)("select",{className:"w-32 mt-1 py-1 md:py-2 lg:mt-0 pl-2 dark:border-gray-700 dark:bg-gray-700 rounded",onChange:e=>{e.target.value=isNaN(e.target.value)?null:e.target.value,j.push({query:{...j.query,to:e.target.value}},void 0,{shallow:!0})},defaultValue:j.query.to,children:[(0,s.jsx)("option",{value:null,children:"-- To --"}),w().map(e=>0!=e?(0,s.jsx)("option",{value:e,children:e},e):null)]})]}),j.query.from||j.query.to?(0,s.jsx)("small",{className:"text-xs",children:"Doesn't include comics with an unknown publishing year."}):null]}),b?null:(0,s.jsxs)("div",{className:(0,o.A)("p-1 py-4 md:p-3 bg-white dark:bg-gray-800",(null==(t=j.query)?void 0:t["exclude-mylist"])&&"true"==j.query["exclude-mylist"]||(null==(n=j.query)?void 0:n.showall)&&"true"==j.query.showall?"ring-1 ring-green-500":""),children:[(0,s.jsx)("strong",{className:"",children:"\xa0"}),(0,s.jsx)("div",{className:"flex items-center mt-1 md:mt-2",children:j.query.type&&"comic"!=j.query.type?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("fieldset",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",className:"w-6 h-6 cursor-pointer",id:"hidemylist",onClick:e=>{if(N.data.identity){var l;(null==(l=j.query)?void 0:l["exclude-mylist"])=="true"?j.push({query:{...j.query,"exclude-mylist":"false"}},void 0,{shallow:!0}):j.push({query:{...j.query,"exclude-mylist":"true"}},void 0,{shallow:!0})}else alert("Login required"),e.preventDefault()},defaultChecked:(null==(u=j.query)?void 0:u["exclude-mylist"])=="true"}),(0,s.jsx)("label",{htmlFor:"hidemylist",className:"ml-3 text-xs cursor-pointer",children:"Hide comics in my list."})]}),(0,s.jsxs)("fieldset",{className:"flex items-center ml-2",children:[(0,s.jsx)("input",{type:"checkbox",className:"w-6 h-6 cursor-pointer",id:"showall",onClick:e=>{var l;(null==(l=j.query)?void 0:l.showall)=="true"?j.push({query:{...j.query,showall:"false"}},void 0,{shallow:!0}):j.push({query:{...j.query,showall:"true"}},void 0,{shallow:!0})},defaultChecked:(null==(h=j.query)?void 0:h.showall)=="true"}),(0,s.jsx)("label",{htmlFor:"showall",className:"ml-3 text-xs cursor-pointer",children:"Include comics without chapters"})]})]})})]}),m&&(null==m?void 0:m.length)!=0?null:(0,s.jsx)("div",{className:(0,o.A)("bg-white dark:bg-gray-800")}),b?(0,s.jsx)("div",{className:(0,o.A)("bg-white dark:bg-gray-800")}):null]})}function k(e){let{selectedItems:l,excludedItems:r,param:a,excludeParam:t,lineThrough:n=!1}=e,d=(0,c.useRouter)();return(0,s.jsxs)("div",{className:(0,o.A)("flex flex-wrap gap-2 mt-2"),children:[l.map(e=>(0,s.jsx)("div",{className:"whitespace-nowrap rounded-md flex items-center group cursor-pointer",onClick:()=>{d.push({query:{...d.query,[a]:l.filter(l=>l.k!=e.k).map(e=>e.k)}},void 0,{shallow:!0})},children:(0,s.jsxs)(b.A,{variant:"blue",children:[(0,s.jsx)("span",{className:(0,o.A)(n&&"line-through","capitalize"),children:e.v}),(0,s.jsx)(y.A,{className:"w-4 h-4 ml-1"})]})},e.k)),null==r?void 0:r.map(e=>(0,s.jsx)("div",{className:"whitespace-nowrap rounded-md flex items-center group cursor-pointer",onClick:()=>{d.push({query:{...d.query,[t]:r.filter(l=>l.k!=e.k).map(e=>e.k)}},void 0,{shallow:!0})},children:(0,s.jsxs)(b.A,{variant:"red",children:[(0,s.jsx)("span",{className:"line-through capitalize",children:e.v}),(0,s.jsx)(y.A,{className:"w-4 h-4 ml-1"})]})},"excluded-".concat(e.k)))]})}function w(e){let l=new Date().getFullYear(),r=[];for(e=e||1990;l>=e;)r.push(l--);return r.push(0),r}},81264:(e,l,r)=>{r.d(l,{A:()=>o});var s=r(23798),a=r(21462),t=r(55605),n=r(82428),c=r(90088),d=r(63026),i=r(97393);function o(e){let{onChangeEvent:l=null,defaultItems:r,placeholder:o="",showSelect:u=!1,fetchOptions:h,enableExclude:g=!1}=e,[m,x]=(0,a.useState)(r||[]),[p,y]=(0,a.useState)(""),[v,b]=(0,a.useState)(r),[f,j]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e=r||[],l=e.reduce((e,l)=>("excluded"===l.state?e.excluded.push(l):e.selected.push(l),e),{selected:[],excluded:[]});b(l.selected),j(l.excluded),x(l=>{let r=[...e];return l.forEach(e=>{r.some(l=>l.k===e.k)||r.push(e)}),r})},[r]),(0,a.useEffect)(()=>{(async()=>{var e,l;let r=await h(p);if((null!=(e=null==v?void 0:v.length)?e:0)>0||(null!=(l=null==f?void 0:f.length)?l:0)>0){let e=[...[...v||[],...f||[]].filter(e=>!r.some(l=>l.k===e.k))];r.forEach(l=>{e.some(e=>e.k===l.k)||e.push(l)}),x(e)}else x(r)})()},[p,h,v,f]);let k=e=>{var r,s;if(!e)return;let a=(null==v||null==(r=v.some)?void 0:r.call(v,l=>l.k===e.k))||!1,t=(null==f||null==(s=f.some)?void 0:s.call(f,l=>l.k===e.k))||!1;if(g){let r=[...v||[]],s=[...f||[]];a?(r=r.filter(l=>l.k!==e.k),s=[...s,e]):t?s=s.filter(l=>l.k!==e.k):r=[...r,e],b(r.map(e=>({...e,state:"included"}))),j(s.map(e=>({...e,state:"excluded"})));let n=[...r.map(e=>({...e,state:"included"})),...s.map(e=>({...e,state:"excluded"}))];null==l||l(n)}else{let r=a?(v||[]).filter(l=>l.k!==e.k):[...v||[],e];b(r.map(e=>({...e,state:"included"}))),null==l||l(r)}};return(0,s.jsx)(t.G3,{value:null,onChange:k,children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"flex flex-wrap",children:[u&&(0,s.jsxs)(s.Fragment,{children:[null==v?void 0:v.map((e,l)=>(0,s.jsxs)("div",{className:"bg-gray-200 dark:bg-gray-600 rounded py-1 pl-2 mr-2 my-1 hover:bg-gray-300 dark:hover:bg-gray-500 cursor-pointer",onClick:()=>k(e),children:[e.v,(0,s.jsx)("span",{className:"py-1 px-2",children:"✕"})]},"selected-item-".concat(l))),null==f?void 0:f.map((e,l)=>(0,s.jsxs)("div",{className:"bg-red-200 dark:bg-red-800 rounded py-1 pl-2 mr-2 my-1 hover:bg-red-300 dark:hover:bg-red-700 cursor-pointer",onClick:()=>k(e),children:[e.v,(0,s.jsx)("span",{className:"py-1 px-2 line-through",children:"✕"})]},"excluded-item-".concat(l)))]}),(0,s.jsxs)("div",{className:"relative w-full cursor-default overflow-hidden rounded-lg text-left",children:[(0,s.jsx)(t.oK,{placeholder:o,className:"w-full border-none py-2 pl-3 pr-10 leading-5 text-gray-900 focus:ring-0",displayValue:e=>(null==e?void 0:e.v)||"",onChange:e=>y(e.target.value)}),(0,s.jsx)(t.i7,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:(0,s.jsx)(c.A,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]})]}),(0,s.jsx)(n.e,{as:a.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>y(""),children:(0,s.jsx)(t.Kc,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white dark:bg-gray-750 shadow-gray-400 dark:shadow-black py-1 shadow-md ring-1 ring-black ring-opacity-5 focus:outline-none text-xs z-20",children:0===m.length&&""!==p?(0,s.jsx)("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-700",children:"Nothing found."}):m.map(e=>{var l,r;let a=(null==v||null==(l=v.some)?void 0:l.call(v,l=>l.k===e.k))||!1,n=(null==f||null==(r=f.some)?void 0:r.call(f,l=>l.k===e.k))||!1;return(0,s.jsx)(t.jO,{className:e=>{let{active:l}=e;return(0,i.A)("relative select-none py-2 pl-10 pr-4 cursor-pointer",l?"bg-gray-300 dark:bg-gray-600":"text-gray-900 dark:text-white")},value:e,children:l=>{let{selected:r,active:t}=l;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:(0,i.A)("block truncate",(a||n)&&"font-bold",n&&"line-through text-red-500"),children:e.v}),(a||n)&&(0,s.jsx)("span",{className:(0,i.A)("absolute inset-y-0 left-0 flex items-center pl-3",n?"text-red-500":t?"text-white":"text-teal-600"),children:(0,s.jsx)(d.A,{className:"h-5 w-5","aria-hidden":"true"})})]})}},e.k)})})})]})})}}}]);