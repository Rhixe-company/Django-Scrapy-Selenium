try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="538c9eb1-a7e0-4cfa-a504-05b10b858d3b",e._sentryDebugIdIdentifier="sentry-dbid-538c9eb1-a7e0-4cfa-a504-05b10b858d3b")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4747],{23931:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>v});var o=t(23798),n=t(21462),s=t(46720),i=t.n(s),l=t(87297),a=t(23460),d=t(69341),u=t(80015),c=t(90755),h=t(49112),f=t(80702);let w=()=>{var e,r;let[t,d]=(0,n.useState)(null),w=(0,s.useRouter)(),v=String(w.query.return_to||""),m=String(w.query.flow||""),p=!!w.query.refresh,g=String(w.query.aal||""),b=(0,n.useCallback)(e=>l.$.frontend.getLoginFlow({id:e}).then(e=>{let{data:r}=e;return d(r)}).catch(_),[]),_=(0,n.useCallback)(e=>{let r=(0,h.l)(b,d,"/login",!0);return window.scrollTo(0,0),r(e)},[b]),y=(0,n.useCallback)((e,r,t)=>l.$.frontend.createBrowserLoginFlow({refresh:e,aal:r,returnTo:t}).then(e=>{let{data:r}=e;d(r),(0,c.Z)(i(),r.id)}).catch(_),[_]);(0,n.useEffect)(()=>{if(w.isReady){if(m)return void b(m).catch(()=>{y(p,g,v)});y(p,g,v)}},[w.isReady]);let x=e=>l.$.frontend.updateLoginFlow({flow:String(null==t?void 0:t.id),updateLoginFlowBody:e}).then(()=>{if(null==t?void 0:t.return_to){window.location.href=null==t?void 0:t.return_to;return}window.location.href="/"}).catch(_);return(null==t||null==(r=t.ui)||null==(e=r.nodes)?void 0:e.length)>0&&t.ui.nodes.map(e=>{var r,t;(null==e||null==(t=e.meta)||null==(r=t.label)?void 0:r.text)=="ID"&&(e.meta.label.text="Email")}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.bV,{title:"Account Login"}),t?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsx)(u.kC,{cardImage:"/static/icons/55x55-icon.png",title:"Login",flowType:"login",className:"md:!max-w-[32rem]",flow:t,additionalProps:{forgotPasswordURL:"/user/recovery",signupURL:"/user/registration"},onSubmit:e=>{let{body:r}=e;return x(r)},includeScripts:!0})})}):(0,o.jsx)(f.A,{})]})};w.getLayout=e=>(0,o.jsx)(d.default,{children:e});let v=w},49112:(e,r,t)=>{"use strict";t.d(r,{l:()=>i});var o=t(46720),n=t.n(o);t(21462);var s=t(52473);let i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return async i=>{var l,a,d,u,c,h,f,w,v,m,p;if(!i.response||(null==(l=i.response)?void 0:l.status)===0)return window.location.href="/user/error?error=".concat(encodeURIComponent(JSON.stringify(i.response))),Promise.resolve();let g=(null==(a=i.response)?void 0:a.data)||{};switch(null==(d=i.response)?void 0:d.status){case 400:if((null==(u=g.error)?void 0:u.id)=="session_already_available")return await n().push("/"),Promise.resolve();if(void 0!==r)return r(g),Promise.resolve();break;case 401:try{s.Ay.error(JSON.parse(i.request.response).error.reason)}catch(e){s.Ay.error("An error occurred but we don't know the reason.")}return await n().push("/user/login"),Promise.resolve();case 403:if((null==(c=g.error)?void 0:c.id)==="session_aal2_required")return await n().push("/user/login?aal2=true"),n().reload(),Promise.resolve();if((null==(h=g.error)?void 0:h.id)==="session_refresh_required"&&g.redirect_browser_to)return window.location=g.redirect_browser_to,Promise.resolve();break;case 404:{let e={data:(null==(f=i.response)?void 0:f.data)||i,status:null==(w=i.response)?void 0:w.status,statusText:null==(v=i.response)?void 0:v.statusText,url:window.location.href};return await n().push("/user/error?error=".concat(encodeURIComponent(JSON.stringify(e)))),Promise.resolve()}case 410:if(void 0!==e&&void 0!==g.use_flow_id)return e(g.use_flow_id).catch(e=>{if(console.error(e),void 0!==t)n().push(t);else throw e});if(void 0!==t)return await n().push(t),Promise.resolve();break;case 422:if(void 0!==g.redirect_browser_to){let r=new URL(window.location.href),o=new URL(g.redirect_browser_to);if(r.host!==o.host)return window.location=g.redirect_browser_to,Promise.resolve();if(r.pathname!==o.pathname)return n().push(o.pathname+o.search),Promise.resolve();let s=o.searchParams.get("flow");if(null!=s&&void 0!==e)return e(s).catch(e=>{if(console.error(e),void 0!==t)n().push(t);else throw e});return window.location=g.redirect_browser_to,Promise.resolve()}}if(console.error(i),o)return await n().push({pathname:"/user/error",query:{error:JSON.stringify(i,null,2),id:null==(p=i.response)||null==(m=p.data.error)?void 0:m.id,flowType:n().pathname}}),Promise.resolve();throw i}}},69341:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var o=t(23798),n=t(80015);t(21462);var s=t(71711);t(37815),t(66202),t(28549),t(10705),t(54427),t(79472);var i=t(216),l=t(3169),a=t(66478);function d(e){let{children:r}=e,t=(0,i.A)(),d=(0,l.md)(a.Rd);return t?(0,o.jsx)(n.NP,{themeOverrides:{...d?{border:{def:"#666"},background:{canvas:"rgb(31 41 55)",subtle:"rgb(31 41 55)",surface:"rgb(31 41 55)"},fontFamily:"inherit",fontFamilyMono:"inherit"}:{border:{def:"#ccc"}}},theme:d?"dark":"light",children:(0,o.jsx)(s.A,{defaultLocale:"en",locale:"en",children:(0,o.jsx)("div",{className:"mainContainer",children:(0,o.jsx)("div",{className:"contentContainer",children:(0,o.jsx)("div",{className:"content",children:r})})})})}):null}},80702:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var o=t(23798),n=t(21462);let s=!1;function i(){return(0,n.useEffect)(()=>{s=!0},[]),s&&(0,o.jsxs)("div",{className:"text-center p-4 py-12 ",children:[(0,o.jsxs)("div",{className:"inline-flex font-medium text-xl relative leading-none",children:[(0,o.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-6 w-6 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,o.jsx)("span",{className:"inline-block align-top select-none",children:"Loading"})]}),(0,o.jsx)("div",{children:(0,o.jsx)("em",{children:"It shouldn't take too long."})})]})}},87297:(e,r,t)=>{"use strict";t.d(r,{$:()=>i});var o=t(69400),n=t(35566);let s=new o.V({basePath:"https://auth.comick.io",baseOptions:{withCredentials:!0}}),i={identity:new n.pc(s),frontend:new n.rc(s),oauth2:new n.cO(s)}},90755:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});let o=(e,r)=>{e.query.flow!=r&&e.push("".concat(e.pathname,"?flow=").concat(r),void 0,{shallow:!0})}},99129:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/login",function(){return t(23931)}])}},e=>{var r=r=>e(e.s=r);e.O(0,[5055,2855,2076,6131,7334,1381,636,6593,8792],()=>r(99129)),_N_E=e.O()}]);